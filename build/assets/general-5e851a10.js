var Zl=Object.defineProperty;var tf=(f,l,o)=>l in f?Zl(f,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):f[l]=o;var li=(f,l,o)=>(tf(f,typeof l!="symbol"?l+"":l,o),o);import{$ as et,c as pt,g as ef}from"./pageCommonInit-9ea57622.js";/*! js-cookie v3.0.5 | MIT */function fi(f){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var h in o)f[h]=o[h]}return f}var nf={read:function(f){return f[0]==='"'&&(f=f.slice(1,-1)),f.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(f){return encodeURIComponent(f).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function _r(f,l){function o(p,m,A){if(!(typeof document>"u")){A=fi({},l,A),typeof A.expires=="number"&&(A.expires=new Date(Date.now()+A.expires*864e5)),A.expires&&(A.expires=A.expires.toUTCString()),p=encodeURIComponent(p).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var O="";for(var T in A)A[T]&&(O+="; "+T,A[T]!==!0&&(O+="="+A[T].split(";")[0]));return document.cookie=p+"="+f.write(m,p)+O}}function h(p){if(!(typeof document>"u"||arguments.length&&!p)){for(var m=document.cookie?document.cookie.split("; "):[],A={},O=0;O<m.length;O++){var T=m[O].split("="),S=T.slice(1).join("=");try{var $=decodeURIComponent(T[0]);if(A[$]=f.read(S,$),p===$)break}catch{}}return p?A[p]:A}}return Object.create({set:o,get:h,remove:function(p,m){o(p,"",fi({},m,{expires:-1}))},withAttributes:function(p){return _r(this.converter,fi({},this.attributes,p))},withConverter:function(p){return _r(fi({},this.converter,p),this.attributes)}},{attributes:{value:Object.freeze(l)},converter:{value:Object.freeze(f)}})}var _e=_r(nf,{path:"/"});const rf=/(hp|shakira|petro)/i;function no(){const f=et("#room-name"),l=f.val();return rf.test(l)?(alert("El nombre de la sala no puede contener palabras obscenas, nombres de celebridades o conocidos."),f.val(""),!1):!0}function io(){const f=parseInt(et("#select-number-players").val()),l=et("#select-equipos");f===2||f===3?(l.val(0),l.prop("disabled",!0)):l.prop("disabled",!1)}function vr(){const f=et("#select-recompensa-bool"),l=et("#recompensa-cantidad");f.val()==="0"?(l.val(0),l.prop("disabled",!0)):l.prop("disabled",!1),l.attr("min","1")}function sf(){io(),vr(),et("#roomConfig").show()}et("#btn-create-room").on("click",sf);function of(){let f=et("#room-name").val()==null||et("#room-name").val()==""?"Mi_Sala":et("#room-name").val().toString();f=f.replace(/\s/g,"_");let l=et("#select-number-players").val()==null?"2":et("#select-number-players").val().toString(),o=et("#select-equipos").val()==null?"0":et("#select-equipos").val().toString(),h=et("#recompensa-cantidad").val()==null||et("#recompensa-cantidad").val()==""?"0":et("#recompensa-cantidad").val().toString();_e.remove("NombreSala"),_e.remove("NumeroJugadores"),_e.remove("SetEquipos"),_e.remove("NumeroRecompensa"),_e.set("NombreSala",f,{expires:new Date(Date.now()+3*60*1e3),path:"/",secure:!0,sameSite:"lax"}),_e.set("NumeroJugadores",l,{expires:new Date(Date.now()+3*60*1e3),path:"/",secure:!0,sameSite:"lax"}),_e.set("SetEquipos",o,{expires:new Date(Date.now()+3*60*1e3),path:"/",secure:!0,sameSite:"lax"}),_e.set("NumeroRecompensa",h,{expires:new Date(Date.now()+3*60*1e3),path:"/",secure:!0,sameSite:"lax"})}et("#select-number-players").on("change",function(){io(),vr()});et("#select-recompensa-bool").on("change",function(){vr()});et("#btn-enviar").on("click",function(){no()?of():console.error("Las validaciones no pasaron. No se puede enviar el formulario.")});et("#btn-up-modal-close, #btn-down-modal-close").on("click",function(){et("#roomConfig").hide()});var af={exports:{}};/*!
  * Bootstrap v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(f,l){(function(o,h){f.exports=h()})(pt,function(){const o=new Map,h={set(i,t,n){o.has(i)||o.set(i,new Map);const a=o.get(i);if(!a.has(t)&&a.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(a.keys())[0]}.`);return}a.set(t,n)},get(i,t){return o.has(i)&&o.get(i).get(t)||null},remove(i,t){if(!o.has(i))return;const n=o.get(i);n.delete(t),n.size===0&&o.delete(i)}},p=1e6,m=1e3,A="transitionend",O=i=>(i&&window.CSS&&window.CSS.escape&&(i=i.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),i),T=i=>i==null?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase(),S=i=>{do i+=Math.floor(Math.random()*p);while(document.getElementById(i));return i},$=i=>{if(!i)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(i);const a=Number.parseFloat(t),u=Number.parseFloat(n);return!a&&!u?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*m)},x=i=>{i.dispatchEvent(new Event(A))},k=i=>!i||typeof i!="object"?!1:(typeof i.jquery<"u"&&(i=i[0]),typeof i.nodeType<"u"),Q=i=>k(i)?i.jquery?i[0]:i:typeof i=="string"&&i.length>0?document.querySelector(O(i)):null,nt=i=>{if(!k(i)||i.getClientRects().length===0)return!1;const t=getComputedStyle(i).getPropertyValue("visibility")==="visible",n=i.closest("details:not([open])");if(!n)return t;if(n!==i){const a=i.closest("summary");if(a&&a.parentNode!==n||a===null)return!1}return t},X=i=>!i||i.nodeType!==Node.ELEMENT_NODE||i.classList.contains("disabled")?!0:typeof i.disabled<"u"?i.disabled:i.hasAttribute("disabled")&&i.getAttribute("disabled")!=="false",ce=i=>{if(!document.documentElement.attachShadow)return null;if(typeof i.getRootNode=="function"){const t=i.getRootNode();return t instanceof ShadowRoot?t:null}return i instanceof ShadowRoot?i:i.parentNode?ce(i.parentNode):null},ut=()=>{},Ct=i=>{i.offsetHeight},Ot=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Ft=[],cn=i=>{document.readyState==="loading"?(Ft.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of Ft)t()}),Ft.push(i)):i()},Nt=()=>document.documentElement.dir==="rtl",vt=i=>{cn(()=>{const t=Ot();if(t){const n=i.NAME,a=t.fn[n];t.fn[n]=i.jQueryInterface,t.fn[n].Constructor=i,t.fn[n].noConflict=()=>(t.fn[n]=a,i.jQueryInterface)}})},Et=(i,t=[],n=i)=>typeof i=="function"?i(...t):n,wt=(i,t,n=!0)=>{if(!n){Et(i);return}const a=5,u=$(t)+a;let _=!1;const g=({target:v})=>{v===t&&(_=!0,t.removeEventListener(A,g),Et(i))};t.addEventListener(A,g),setTimeout(()=>{_||x(t)},u)},ln=(i,t,n,a)=>{const u=i.length;let _=i.indexOf(t);return _===-1?!n&&a?i[u-1]:i[0]:(_+=n?1:-1,a&&(_=(_+u)%u),i[Math.max(0,Math.min(_,u-1))])},vi=/[^.]*(?=\..*)\.|.*/,Ei=/\..*/,Ai=/::\d+$/,fn={};let un=1;const hn={mouseenter:"mouseover",mouseleave:"mouseout"},At=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function dn(i,t){return t&&`${t}::${un++}`||i.uidEvent||un++}function ke(i){const t=dn(i);return i.uidEvent=t,fn[t]=fn[t]||{},fn[t]}function me(i,t){return function n(a){return je(a,{delegateTarget:i}),n.oneOff&&y.off(i,a.type,t),t.apply(i,[a])}}function ie(i,t,n){return function a(u){const _=i.querySelectorAll(t);for(let{target:g}=u;g&&g!==this;g=g.parentNode)for(const v of _)if(v===g)return je(u,{delegateTarget:g}),a.oneOff&&y.off(i,u.type,t,n),n.apply(g,[u])}}function pn(i,t,n=null){return Object.values(i).find(a=>a.callable===t&&a.delegationSelector===n)}function _n(i,t,n){const a=typeof t=="string",u=a?n:t||n;let _=jn(i);return At.has(_)||(_=i),[a,u,_]}function kn(i,t,n,a,u){if(typeof t!="string"||!i)return;let[_,g,v]=_n(t,n,a);t in hn&&(g=(ot=>function(q){if(!q.relatedTarget||q.relatedTarget!==q.delegateTarget&&!q.delegateTarget.contains(q.relatedTarget))return ot.call(this,q)})(g));const b=ke(i),I=b[v]||(b[v]={}),w=pn(I,g,_?n:null);if(w){w.oneOff=w.oneOff&&u;return}const W=dn(g,t.replace(vi,"")),Y=_?ie(i,n,g):me(i,g);Y.delegationSelector=_?n:null,Y.callable=g,Y.oneOff=u,Y.uidEvent=W,I[W]=Y,i.addEventListener(v,Y,_)}function gn(i,t,n,a,u){const _=pn(t[n],a,u);_&&(i.removeEventListener(n,_,!!u),delete t[n][_.uidEvent])}function ve(i,t,n,a){const u=t[n]||{};for(const[_,g]of Object.entries(u))_.includes(a)&&gn(i,t,n,g.callable,g.delegationSelector)}function jn(i){return i=i.replace(Ei,""),hn[i]||i}const y={on(i,t,n,a){kn(i,t,n,a,!1)},one(i,t,n,a){kn(i,t,n,a,!0)},off(i,t,n,a){if(typeof t!="string"||!i)return;const[u,_,g]=_n(t,n,a),v=g!==t,b=ke(i),I=b[g]||{},w=t.startsWith(".");if(typeof _<"u"){if(!Object.keys(I).length)return;gn(i,b,g,_,u?n:null);return}if(w)for(const W of Object.keys(b))ve(i,b,W,t.slice(1));for(const[W,Y]of Object.entries(I)){const H=W.replace(Ai,"");(!v||t.includes(H))&&gn(i,b,g,Y.callable,Y.delegationSelector)}},trigger(i,t,n){if(typeof t!="string"||!i)return null;const a=Ot(),u=jn(t),_=t!==u;let g=null,v=!0,b=!0,I=!1;_&&a&&(g=a.Event(t,n),a(i).trigger(g),v=!g.isPropagationStopped(),b=!g.isImmediatePropagationStopped(),I=g.isDefaultPrevented());const w=je(new Event(t,{bubbles:v,cancelable:!0}),n);return I&&w.preventDefault(),b&&i.dispatchEvent(w),w.defaultPrevented&&g&&g.preventDefault(),w}};function je(i,t={}){for(const[n,a]of Object.entries(t))try{i[n]=a}catch{Object.defineProperty(i,n,{configurable:!0,get(){return a}})}return i}function He(i){if(i==="true")return!0;if(i==="false")return!1;if(i===Number(i).toString())return Number(i);if(i===""||i==="null")return null;if(typeof i!="string")return i;try{return JSON.parse(decodeURIComponent(i))}catch{return i}}function mn(i){return i.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const Rt={setDataAttribute(i,t,n){i.setAttribute(`data-bs-${mn(t)}`,n)},removeDataAttribute(i,t){i.removeAttribute(`data-bs-${mn(t)}`)},getDataAttributes(i){if(!i)return{};const t={},n=Object.keys(i.dataset).filter(a=>a.startsWith("bs")&&!a.startsWith("bsConfig"));for(const a of n){let u=a.replace(/^bs/,"");u=u.charAt(0).toLowerCase()+u.slice(1,u.length),t[u]=He(i.dataset[a])}return t},getDataAttribute(i,t){return He(i.getAttribute(`data-bs-${mn(t)}`))}};class ht{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const a=k(n)?Rt.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof a=="object"?a:{},...k(n)?Rt.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[a,u]of Object.entries(n)){const _=t[a],g=k(_)?"element":T(_);if(!new RegExp(u).test(g))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${a}" provided type "${g}" but expected type "${u}".`)}}}const vn="5.3.2";class Lt extends ht{constructor(t,n){super(),t=Q(t),t&&(this._element=t,this._config=this._getConfig(n),h.set(this._element,this.constructor.DATA_KEY,this))}dispose(){h.remove(this._element,this.constructor.DATA_KEY),y.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,a=!0){wt(t,n,a)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return h.get(Q(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return vn}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Ve=i=>{let t=i.getAttribute("data-bs-target");if(!t||t==="#"){let n=i.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?O(n.trim()):null}return t},N={find(i,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,i))},findOne(i,t=document.documentElement){return Element.prototype.querySelector.call(t,i)},children(i,t){return[].concat(...i.children).filter(n=>n.matches(t))},parents(i,t){const n=[];let a=i.parentNode.closest(t);for(;a;)n.push(a),a=a.parentNode.closest(t);return n},prev(i,t){let n=i.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(i,t){let n=i.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(i){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,i).filter(n=>!X(n)&&nt(n))},getSelectorFromElement(i){const t=Ve(i);return t&&N.findOne(t)?t:null},getElementFromSelector(i){const t=Ve(i);return t?N.findOne(t):null},getMultipleElementsFromSelector(i){const t=Ve(i);return t?N.find(t):[]}},Ee=(i,t="hide")=>{const n=`click.dismiss${i.EVENT_KEY}`,a=i.NAME;y.on(document,n,`[data-bs-dismiss="${a}"]`,function(u){if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),X(this))return;const _=N.getElementFromSelector(this)||this.closest(`.${a}`);i.getOrCreateInstance(_)[t]()})},Fe="alert",re=".bs.alert",yi=`close${re}`,bi=`closed${re}`,Hn="fade",Vn="show";class zt extends Lt{static get NAME(){return Fe}close(){if(y.trigger(this._element,yi).defaultPrevented)return;this._element.classList.remove(Vn);const n=this._element.classList.contains(Hn);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),y.trigger(this._element,bi),this.dispose()}static jQueryInterface(t){return this.each(function(){const n=zt.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}Ee(zt,"close"),vt(zt);const Ti="button",En=".bs.button",An=".data-api",Oi="active",yn='[data-bs-toggle="button"]',wi=`click${En}${An}`;class Pt extends Lt{static get NAME(){return Ti}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Oi))}static jQueryInterface(t){return this.each(function(){const n=Pt.getOrCreateInstance(this);t==="toggle"&&n[t]()})}}y.on(document,wi,yn,i=>{i.preventDefault();const t=i.target.closest(yn);Pt.getOrCreateInstance(t).toggle()}),vt(Pt);const $i="swipe",fe=".bs.swipe",Fn=`touchstart${fe}`,Bn=`touchmove${fe}`,bn=`touchend${fe}`,Tn=`pointerdown${fe}`,Si=`pointerup${fe}`,Ci="touch",On="pen",xi="pointer-event",Un=40,Di={endCallback:null,leftCallback:null,rightCallback:null},Ii={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class yt extends ht{constructor(t,n){super(),this._element=t,!(!t||!yt.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Di}static get DefaultType(){return Ii}static get NAME(){return $i}dispose(){y.off(this._element,fe)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Et(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=Un)return;const n=t/this._deltaX;this._deltaX=0,n&&Et(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(y.on(this._element,Tn,t=>this._start(t)),y.on(this._element,Si,t=>this._end(t)),this._element.classList.add(xi)):(y.on(this._element,Fn,t=>this._start(t)),y.on(this._element,Bn,t=>this._move(t)),y.on(this._element,bn,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===On||t.pointerType===Ci)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ni="carousel",Bt=".bs.carousel",Be=".data-api",Ri="ArrowLeft",r="ArrowRight",e=500,s="next",c="prev",d="left",E="right",C=`slide${Bt}`,L=`slid${Bt}`,z=`keydown${Bt}`,V=`mouseenter${Bt}`,R=`mouseleave${Bt}`,K=`dragstart${Bt}`,P=`load${Bt}${Be}`,F=`click${Bt}${Be}`,M="carousel",j="active",D="slide",B="carousel-item-end",Z="carousel-item-start",st="carousel-item-next",G="carousel-item-prev",U=".active",Kt=".carousel-item",wn=U+Kt,bt=".carousel-item img",dt=".carousel-indicators",_t="[data-bs-slide], [data-bs-slide-to]",Ae='[data-bs-ride="carousel"]',Yt={[Ri]:E,[r]:d},$n={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Zt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class qt extends Lt{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=N.findOne(dt,this._element),this._addEventListeners(),this._config.ride===M&&this.cycle()}static get Default(){return $n}static get DefaultType(){return Zt}static get NAME(){return Ni}next(){this._slide(s)}nextWhenVisible(){!document.hidden&&nt(this._element)&&this.next()}prev(){this._slide(c)}pause(){this._isSliding&&x(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){y.one(this._element,L,()=>this.cycle());return}this.cycle()}}to(t){const n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){y.one(this._element,L,()=>this.to(t));return}const a=this._getItemIndex(this._getActive());if(a===t)return;const u=t>a?s:c;this._slide(u,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&y.on(this._element,z,t=>this._keydown(t)),this._config.pause==="hover"&&(y.on(this._element,V,()=>this.pause()),y.on(this._element,R,()=>this._maybeEnableCycle())),this._config.touch&&yt.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const a of N.find(bt,this._element))y.on(a,K,u=>u.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(d)),rightCallback:()=>this._slide(this._directionToOrder(E)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),e+this._config.interval))}};this._swipeHelper=new yt(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const n=Yt[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const n=N.findOne(U,this._indicatorsElement);n.classList.remove(j),n.removeAttribute("aria-current");const a=N.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);a&&(a.classList.add(j),a.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;const a=this._getActive(),u=t===s,_=n||ln(this._getItems(),a,u,this._config.wrap);if(_===a)return;const g=this._getItemIndex(_),v=H=>y.trigger(this._element,H,{relatedTarget:_,direction:this._orderToDirection(t),from:this._getItemIndex(a),to:g});if(v(C).defaultPrevented||!a||!_)return;const I=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(g),this._activeElement=_;const w=u?Z:B,W=u?st:G;_.classList.add(W),Ct(_),a.classList.add(w),_.classList.add(w);const Y=()=>{_.classList.remove(w,W),_.classList.add(j),a.classList.remove(j,W,w),this._isSliding=!1,v(L)};this._queueCallback(Y,a,this._isAnimated()),I&&this.cycle()}_isAnimated(){return this._element.classList.contains(D)}_getActive(){return N.findOne(wn,this._element)}_getItems(){return N.find(Kt,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Nt()?t===d?c:s:t===d?s:c}_orderToDirection(t){return Nt()?t===c?d:E:t===c?E:d}static jQueryInterface(t){return this.each(function(){const n=qt.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}y.on(document,F,_t,function(i){const t=N.getElementFromSelector(this);if(!t||!t.classList.contains(M))return;i.preventDefault();const n=qt.getOrCreateInstance(t),a=this.getAttribute("data-bs-slide-to");if(a){n.to(a),n._maybeEnableCycle();return}if(Rt.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()}),y.on(window,P,()=>{const i=N.find(Ae);for(const t of i)qt.getOrCreateInstance(t)}),vt(qt);const uo="collapse",Sn=".bs.collapse",ho=".data-api",po=`show${Sn}`,_o=`shown${Sn}`,go=`hide${Sn}`,mo=`hidden${Sn}`,vo=`click${Sn}${ho}`,Li="show",Ue="collapse",Wn="collapsing",Eo="collapsed",Ao=`:scope .${Ue} .${Ue}`,yo="collapse-horizontal",bo="width",To="height",Oo=".collapse.show, .collapse.collapsing",Pi='[data-bs-toggle="collapse"]',wo={parent:null,toggle:!0},$o={parent:"(null|element)",toggle:"boolean"};class We extends Lt{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const a=N.find(Pi);for(const u of a){const _=N.getSelectorFromElement(u),g=N.find(_).filter(v=>v===this._element);_!==null&&g.length&&this._triggerArray.push(u)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return wo}static get DefaultType(){return $o}static get NAME(){return uo}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(Oo).filter(v=>v!==this._element).map(v=>We.getOrCreateInstance(v,{toggle:!1}))),t.length&&t[0]._isTransitioning||y.trigger(this._element,po).defaultPrevented)return;for(const v of t)v.hide();const a=this._getDimension();this._element.classList.remove(Ue),this._element.classList.add(Wn),this._element.style[a]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const u=()=>{this._isTransitioning=!1,this._element.classList.remove(Wn),this._element.classList.add(Ue,Li),this._element.style[a]="",y.trigger(this._element,_o)},g=`scroll${a[0].toUpperCase()+a.slice(1)}`;this._queueCallback(u,this._element,!0),this._element.style[a]=`${this._element[g]}px`}hide(){if(this._isTransitioning||!this._isShown()||y.trigger(this._element,go).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Ct(this._element),this._element.classList.add(Wn),this._element.classList.remove(Ue,Li);for(const u of this._triggerArray){const _=N.getElementFromSelector(u);_&&!this._isShown(_)&&this._addAriaAndCollapsedClass([u],!1)}this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(Wn),this._element.classList.add(Ue),y.trigger(this._element,mo)};this._element.style[n]="",this._queueCallback(a,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Li)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=Q(t.parent),t}_getDimension(){return this._element.classList.contains(yo)?bo:To}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Pi);for(const n of t){const a=N.getElementFromSelector(n);a&&this._addAriaAndCollapsedClass([n],this._isShown(a))}}_getFirstLevelChildren(t){const n=N.find(Ao,this._config.parent);return N.find(t,this._config.parent).filter(a=>!n.includes(a))}_addAriaAndCollapsedClass(t,n){if(t.length)for(const a of t)a.classList.toggle(Eo,!n),a.setAttribute("aria-expanded",n)}static jQueryInterface(t){const n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){const a=We.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof a[t]>"u")throw new TypeError(`No method named "${t}"`);a[t]()}})}}y.on(document,vo,Pi,function(i){(i.target.tagName==="A"||i.delegateTarget&&i.delegateTarget.tagName==="A")&&i.preventDefault();for(const t of N.getMultipleElementsFromSelector(this))We.getOrCreateInstance(t,{toggle:!1}).toggle()}),vt(We);var xt="top",Mt="bottom",kt="right",Dt="left",zn="auto",ze=[xt,Mt,kt,Dt],ye="start",Ke="end",Or="clippingParents",Mi="viewport",Ye="popper",wr="reference",ki=ze.reduce(function(i,t){return i.concat([t+"-"+ye,t+"-"+Ke])},[]),ji=[].concat(ze,[zn]).reduce(function(i,t){return i.concat([t,t+"-"+ye,t+"-"+Ke])},[]),$r="beforeRead",Sr="read",Cr="afterRead",xr="beforeMain",Dr="main",Ir="afterMain",Nr="beforeWrite",Rr="write",Lr="afterWrite",Pr=[$r,Sr,Cr,xr,Dr,Ir,Nr,Rr,Lr];function te(i){return i?(i.nodeName||"").toLowerCase():null}function jt(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var t=i.ownerDocument;return t&&t.defaultView||window}return i}function be(i){var t=jt(i).Element;return i instanceof t||i instanceof Element}function Ut(i){var t=jt(i).HTMLElement;return i instanceof t||i instanceof HTMLElement}function Hi(i){if(typeof ShadowRoot>"u")return!1;var t=jt(i).ShadowRoot;return i instanceof t||i instanceof ShadowRoot}function So(i){var t=i.state;Object.keys(t.elements).forEach(function(n){var a=t.styles[n]||{},u=t.attributes[n]||{},_=t.elements[n];!Ut(_)||!te(_)||(Object.assign(_.style,a),Object.keys(u).forEach(function(g){var v=u[g];v===!1?_.removeAttribute(g):_.setAttribute(g,v===!0?"":v)}))})}function Co(i){var t=i.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(a){var u=t.elements[a],_=t.attributes[a]||{},g=Object.keys(t.styles.hasOwnProperty(a)?t.styles[a]:n[a]),v=g.reduce(function(b,I){return b[I]="",b},{});!Ut(u)||!te(u)||(Object.assign(u.style,v),Object.keys(_).forEach(function(b){u.removeAttribute(b)}))})}}const Vi={name:"applyStyles",enabled:!0,phase:"write",fn:So,effect:Co,requires:["computeStyles"]};function ee(i){return i.split("-")[0]}var Te=Math.max,Kn=Math.min,qe=Math.round;function Fi(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Mr(){return!/^((?!chrome|android).)*safari/i.test(Fi())}function Ge(i,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var a=i.getBoundingClientRect(),u=1,_=1;t&&Ut(i)&&(u=i.offsetWidth>0&&qe(a.width)/i.offsetWidth||1,_=i.offsetHeight>0&&qe(a.height)/i.offsetHeight||1);var g=be(i)?jt(i):window,v=g.visualViewport,b=!Mr()&&n,I=(a.left+(b&&v?v.offsetLeft:0))/u,w=(a.top+(b&&v?v.offsetTop:0))/_,W=a.width/u,Y=a.height/_;return{width:W,height:Y,top:w,right:I+W,bottom:w+Y,left:I,x:I,y:w}}function Bi(i){var t=Ge(i),n=i.offsetWidth,a=i.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:i.offsetLeft,y:i.offsetTop,width:n,height:a}}function kr(i,t){var n=t.getRootNode&&t.getRootNode();if(i.contains(t))return!0;if(n&&Hi(n)){var a=t;do{if(a&&i.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function se(i){return jt(i).getComputedStyle(i)}function xo(i){return["table","td","th"].indexOf(te(i))>=0}function he(i){return((be(i)?i.ownerDocument:i.document)||window.document).documentElement}function Yn(i){return te(i)==="html"?i:i.assignedSlot||i.parentNode||(Hi(i)?i.host:null)||he(i)}function jr(i){return!Ut(i)||se(i).position==="fixed"?null:i.offsetParent}function Do(i){var t=/firefox/i.test(Fi()),n=/Trident/i.test(Fi());if(n&&Ut(i)){var a=se(i);if(a.position==="fixed")return null}var u=Yn(i);for(Hi(u)&&(u=u.host);Ut(u)&&["html","body"].indexOf(te(u))<0;){var _=se(u);if(_.transform!=="none"||_.perspective!=="none"||_.contain==="paint"||["transform","perspective"].indexOf(_.willChange)!==-1||t&&_.willChange==="filter"||t&&_.filter&&_.filter!=="none")return u;u=u.parentNode}return null}function Cn(i){for(var t=jt(i),n=jr(i);n&&xo(n)&&se(n).position==="static";)n=jr(n);return n&&(te(n)==="html"||te(n)==="body"&&se(n).position==="static")?t:n||Do(i)||t}function Ui(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function xn(i,t,n){return Te(i,Kn(t,n))}function Io(i,t,n){var a=xn(i,t,n);return a>n?n:a}function Hr(){return{top:0,right:0,bottom:0,left:0}}function Vr(i){return Object.assign({},Hr(),i)}function Fr(i,t){return t.reduce(function(n,a){return n[a]=i,n},{})}var No=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Vr(typeof t!="number"?t:Fr(t,ze))};function Ro(i){var t,n=i.state,a=i.name,u=i.options,_=n.elements.arrow,g=n.modifiersData.popperOffsets,v=ee(n.placement),b=Ui(v),I=[Dt,kt].indexOf(v)>=0,w=I?"height":"width";if(!(!_||!g)){var W=No(u.padding,n),Y=Bi(_),H=b==="y"?xt:Dt,ot=b==="y"?Mt:kt,q=n.rects.reference[w]+n.rects.reference[b]-g[b]-n.rects.popper[w],tt=g[b]-n.rects.reference[b],at=Cn(_),lt=at?b==="y"?at.clientHeight||0:at.clientWidth||0:0,ft=q/2-tt/2,J=W[H],it=lt-Y[w]-W[ot],rt=lt/2-Y[w]/2+ft,ct=xn(J,rt,it),Tt=b;n.modifiersData[a]=(t={},t[Tt]=ct,t.centerOffset=ct-rt,t)}}function Lo(i){var t=i.state,n=i.options,a=n.element,u=a===void 0?"[data-popper-arrow]":a;u!=null&&(typeof u=="string"&&(u=t.elements.popper.querySelector(u),!u)||kr(t.elements.popper,u)&&(t.elements.arrow=u))}const Br={name:"arrow",enabled:!0,phase:"main",fn:Ro,effect:Lo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Je(i){return i.split("-")[1]}var Po={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mo(i,t){var n=i.x,a=i.y,u=t.devicePixelRatio||1;return{x:qe(n*u)/u||0,y:qe(a*u)/u||0}}function Ur(i){var t,n=i.popper,a=i.popperRect,u=i.placement,_=i.variation,g=i.offsets,v=i.position,b=i.gpuAcceleration,I=i.adaptive,w=i.roundOffsets,W=i.isFixed,Y=g.x,H=Y===void 0?0:Y,ot=g.y,q=ot===void 0?0:ot,tt=typeof w=="function"?w({x:H,y:q}):{x:H,y:q};H=tt.x,q=tt.y;var at=g.hasOwnProperty("x"),lt=g.hasOwnProperty("y"),ft=Dt,J=xt,it=window;if(I){var rt=Cn(n),ct="clientHeight",Tt="clientWidth";if(rt===jt(n)&&(rt=he(n),se(rt).position!=="static"&&v==="absolute"&&(ct="scrollHeight",Tt="scrollWidth")),rt=rt,u===xt||(u===Dt||u===kt)&&_===Ke){J=Mt;var mt=W&&rt===it&&it.visualViewport?it.visualViewport.height:rt[ct];q-=mt-a.height,q*=b?1:-1}if(u===Dt||(u===xt||u===Mt)&&_===Ke){ft=kt;var gt=W&&rt===it&&it.visualViewport?it.visualViewport.width:rt[Tt];H-=gt-a.width,H*=b?1:-1}}var $t=Object.assign({position:v},I&&Po),Jt=w===!0?Mo({x:H,y:q},jt(n)):{x:H,y:q};if(H=Jt.x,q=Jt.y,b){var It;return Object.assign({},$t,(It={},It[J]=lt?"0":"",It[ft]=at?"0":"",It.transform=(it.devicePixelRatio||1)<=1?"translate("+H+"px, "+q+"px)":"translate3d("+H+"px, "+q+"px, 0)",It))}return Object.assign({},$t,(t={},t[J]=lt?q+"px":"",t[ft]=at?H+"px":"",t.transform="",t))}function ko(i){var t=i.state,n=i.options,a=n.gpuAcceleration,u=a===void 0?!0:a,_=n.adaptive,g=_===void 0?!0:_,v=n.roundOffsets,b=v===void 0?!0:v,I={placement:ee(t.placement),variation:Je(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:u,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Ur(Object.assign({},I,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:g,roundOffsets:b})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ur(Object.assign({},I,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:b})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Wi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ko,data:{}};var qn={passive:!0};function jo(i){var t=i.state,n=i.instance,a=i.options,u=a.scroll,_=u===void 0?!0:u,g=a.resize,v=g===void 0?!0:g,b=jt(t.elements.popper),I=[].concat(t.scrollParents.reference,t.scrollParents.popper);return _&&I.forEach(function(w){w.addEventListener("scroll",n.update,qn)}),v&&b.addEventListener("resize",n.update,qn),function(){_&&I.forEach(function(w){w.removeEventListener("scroll",n.update,qn)}),v&&b.removeEventListener("resize",n.update,qn)}}const zi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:jo,data:{}};var Ho={left:"right",right:"left",bottom:"top",top:"bottom"};function Gn(i){return i.replace(/left|right|bottom|top/g,function(t){return Ho[t]})}var Vo={start:"end",end:"start"};function Wr(i){return i.replace(/start|end/g,function(t){return Vo[t]})}function Ki(i){var t=jt(i),n=t.pageXOffset,a=t.pageYOffset;return{scrollLeft:n,scrollTop:a}}function Yi(i){return Ge(he(i)).left+Ki(i).scrollLeft}function Fo(i,t){var n=jt(i),a=he(i),u=n.visualViewport,_=a.clientWidth,g=a.clientHeight,v=0,b=0;if(u){_=u.width,g=u.height;var I=Mr();(I||!I&&t==="fixed")&&(v=u.offsetLeft,b=u.offsetTop)}return{width:_,height:g,x:v+Yi(i),y:b}}function Bo(i){var t,n=he(i),a=Ki(i),u=(t=i.ownerDocument)==null?void 0:t.body,_=Te(n.scrollWidth,n.clientWidth,u?u.scrollWidth:0,u?u.clientWidth:0),g=Te(n.scrollHeight,n.clientHeight,u?u.scrollHeight:0,u?u.clientHeight:0),v=-a.scrollLeft+Yi(i),b=-a.scrollTop;return se(u||n).direction==="rtl"&&(v+=Te(n.clientWidth,u?u.clientWidth:0)-_),{width:_,height:g,x:v,y:b}}function qi(i){var t=se(i),n=t.overflow,a=t.overflowX,u=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+u+a)}function zr(i){return["html","body","#document"].indexOf(te(i))>=0?i.ownerDocument.body:Ut(i)&&qi(i)?i:zr(Yn(i))}function Dn(i,t){var n;t===void 0&&(t=[]);var a=zr(i),u=a===((n=i.ownerDocument)==null?void 0:n.body),_=jt(a),g=u?[_].concat(_.visualViewport||[],qi(a)?a:[]):a,v=t.concat(g);return u?v:v.concat(Dn(Yn(g)))}function Gi(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function Uo(i,t){var n=Ge(i,!1,t==="fixed");return n.top=n.top+i.clientTop,n.left=n.left+i.clientLeft,n.bottom=n.top+i.clientHeight,n.right=n.left+i.clientWidth,n.width=i.clientWidth,n.height=i.clientHeight,n.x=n.left,n.y=n.top,n}function Kr(i,t,n){return t===Mi?Gi(Fo(i,n)):be(t)?Uo(t,n):Gi(Bo(he(i)))}function Wo(i){var t=Dn(Yn(i)),n=["absolute","fixed"].indexOf(se(i).position)>=0,a=n&&Ut(i)?Cn(i):i;return be(a)?t.filter(function(u){return be(u)&&kr(u,a)&&te(u)!=="body"}):[]}function zo(i,t,n,a){var u=t==="clippingParents"?Wo(i):[].concat(t),_=[].concat(u,[n]),g=_[0],v=_.reduce(function(b,I){var w=Kr(i,I,a);return b.top=Te(w.top,b.top),b.right=Kn(w.right,b.right),b.bottom=Kn(w.bottom,b.bottom),b.left=Te(w.left,b.left),b},Kr(i,g,a));return v.width=v.right-v.left,v.height=v.bottom-v.top,v.x=v.left,v.y=v.top,v}function Yr(i){var t=i.reference,n=i.element,a=i.placement,u=a?ee(a):null,_=a?Je(a):null,g=t.x+t.width/2-n.width/2,v=t.y+t.height/2-n.height/2,b;switch(u){case xt:b={x:g,y:t.y-n.height};break;case Mt:b={x:g,y:t.y+t.height};break;case kt:b={x:t.x+t.width,y:v};break;case Dt:b={x:t.x-n.width,y:v};break;default:b={x:t.x,y:t.y}}var I=u?Ui(u):null;if(I!=null){var w=I==="y"?"height":"width";switch(_){case ye:b[I]=b[I]-(t[w]/2-n[w]/2);break;case Ke:b[I]=b[I]+(t[w]/2-n[w]/2);break}}return b}function Xe(i,t){t===void 0&&(t={});var n=t,a=n.placement,u=a===void 0?i.placement:a,_=n.strategy,g=_===void 0?i.strategy:_,v=n.boundary,b=v===void 0?Or:v,I=n.rootBoundary,w=I===void 0?Mi:I,W=n.elementContext,Y=W===void 0?Ye:W,H=n.altBoundary,ot=H===void 0?!1:H,q=n.padding,tt=q===void 0?0:q,at=Vr(typeof tt!="number"?tt:Fr(tt,ze)),lt=Y===Ye?wr:Ye,ft=i.rects.popper,J=i.elements[ot?lt:Y],it=zo(be(J)?J:J.contextElement||he(i.elements.popper),b,w,g),rt=Ge(i.elements.reference),ct=Yr({reference:rt,element:ft,strategy:"absolute",placement:u}),Tt=Gi(Object.assign({},ft,ct)),mt=Y===Ye?Tt:rt,gt={top:it.top-mt.top+at.top,bottom:mt.bottom-it.bottom+at.bottom,left:it.left-mt.left+at.left,right:mt.right-it.right+at.right},$t=i.modifiersData.offset;if(Y===Ye&&$t){var Jt=$t[u];Object.keys(gt).forEach(function(It){var Ie=[kt,Mt].indexOf(It)>=0?1:-1,Ne=[xt,Mt].indexOf(It)>=0?"y":"x";gt[It]+=Jt[Ne]*Ie})}return gt}function Ko(i,t){t===void 0&&(t={});var n=t,a=n.placement,u=n.boundary,_=n.rootBoundary,g=n.padding,v=n.flipVariations,b=n.allowedAutoPlacements,I=b===void 0?ji:b,w=Je(a),W=w?v?ki:ki.filter(function(ot){return Je(ot)===w}):ze,Y=W.filter(function(ot){return I.indexOf(ot)>=0});Y.length===0&&(Y=W);var H=Y.reduce(function(ot,q){return ot[q]=Xe(i,{placement:q,boundary:u,rootBoundary:_,padding:g})[ee(q)],ot},{});return Object.keys(H).sort(function(ot,q){return H[ot]-H[q]})}function Yo(i){if(ee(i)===zn)return[];var t=Gn(i);return[Wr(i),t,Wr(t)]}function qo(i){var t=i.state,n=i.options,a=i.name;if(!t.modifiersData[a]._skip){for(var u=n.mainAxis,_=u===void 0?!0:u,g=n.altAxis,v=g===void 0?!0:g,b=n.fallbackPlacements,I=n.padding,w=n.boundary,W=n.rootBoundary,Y=n.altBoundary,H=n.flipVariations,ot=H===void 0?!0:H,q=n.allowedAutoPlacements,tt=t.options.placement,at=ee(tt),lt=at===tt,ft=b||(lt||!ot?[Gn(tt)]:Yo(tt)),J=[tt].concat(ft).reduce(function(tn,pe){return tn.concat(ee(pe)===zn?Ko(t,{placement:pe,boundary:w,rootBoundary:W,padding:I,flipVariations:ot,allowedAutoPlacements:q}):pe)},[]),it=t.rects.reference,rt=t.rects.popper,ct=new Map,Tt=!0,mt=J[0],gt=0;gt<J.length;gt++){var $t=J[gt],Jt=ee($t),It=Je($t)===ye,Ie=[xt,Mt].indexOf(Jt)>=0,Ne=Ie?"width":"height",Ht=Xe(t,{placement:$t,boundary:w,rootBoundary:W,altBoundary:Y,padding:I}),Xt=Ie?It?kt:Dt:It?Mt:xt;it[Ne]>rt[Ne]&&(Xt=Gn(Xt));var ri=Gn(Xt),Re=[];if(_&&Re.push(Ht[Jt]<=0),v&&Re.push(Ht[Xt]<=0,Ht[ri]<=0),Re.every(function(tn){return tn})){mt=$t,Tt=!1;break}ct.set($t,Re)}if(Tt)for(var si=ot?3:1,lr=function(pe){var Pn=J.find(function(ai){var Le=ct.get(ai);if(Le)return Le.slice(0,pe).every(function(fr){return fr})});if(Pn)return mt=Pn,"break"},Ln=si;Ln>0;Ln--){var oi=lr(Ln);if(oi==="break")break}t.placement!==mt&&(t.modifiersData[a]._skip=!0,t.placement=mt,t.reset=!0)}}const qr={name:"flip",enabled:!0,phase:"main",fn:qo,requiresIfExists:["offset"],data:{_skip:!1}};function Gr(i,t,n){return n===void 0&&(n={x:0,y:0}),{top:i.top-t.height-n.y,right:i.right-t.width+n.x,bottom:i.bottom-t.height+n.y,left:i.left-t.width-n.x}}function Jr(i){return[xt,kt,Mt,Dt].some(function(t){return i[t]>=0})}function Go(i){var t=i.state,n=i.name,a=t.rects.reference,u=t.rects.popper,_=t.modifiersData.preventOverflow,g=Xe(t,{elementContext:"reference"}),v=Xe(t,{altBoundary:!0}),b=Gr(g,a),I=Gr(v,u,_),w=Jr(b),W=Jr(I);t.modifiersData[n]={referenceClippingOffsets:b,popperEscapeOffsets:I,isReferenceHidden:w,hasPopperEscaped:W},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":w,"data-popper-escaped":W})}const Xr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Go};function Jo(i,t,n){var a=ee(i),u=[Dt,xt].indexOf(a)>=0?-1:1,_=typeof n=="function"?n(Object.assign({},t,{placement:i})):n,g=_[0],v=_[1];return g=g||0,v=(v||0)*u,[Dt,kt].indexOf(a)>=0?{x:v,y:g}:{x:g,y:v}}function Xo(i){var t=i.state,n=i.options,a=i.name,u=n.offset,_=u===void 0?[0,0]:u,g=ji.reduce(function(w,W){return w[W]=Jo(W,t.rects,_),w},{}),v=g[t.placement],b=v.x,I=v.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=b,t.modifiersData.popperOffsets.y+=I),t.modifiersData[a]=g}const Qr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Xo};function Qo(i){var t=i.state,n=i.name;t.modifiersData[n]=Yr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Ji={name:"popperOffsets",enabled:!0,phase:"read",fn:Qo,data:{}};function Zo(i){return i==="x"?"y":"x"}function ta(i){var t=i.state,n=i.options,a=i.name,u=n.mainAxis,_=u===void 0?!0:u,g=n.altAxis,v=g===void 0?!1:g,b=n.boundary,I=n.rootBoundary,w=n.altBoundary,W=n.padding,Y=n.tether,H=Y===void 0?!0:Y,ot=n.tetherOffset,q=ot===void 0?0:ot,tt=Xe(t,{boundary:b,rootBoundary:I,padding:W,altBoundary:w}),at=ee(t.placement),lt=Je(t.placement),ft=!lt,J=Ui(at),it=Zo(J),rt=t.modifiersData.popperOffsets,ct=t.rects.reference,Tt=t.rects.popper,mt=typeof q=="function"?q(Object.assign({},t.rects,{placement:t.placement})):q,gt=typeof mt=="number"?{mainAxis:mt,altAxis:mt}:Object.assign({mainAxis:0,altAxis:0},mt),$t=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Jt={x:0,y:0};if(rt){if(_){var It,Ie=J==="y"?xt:Dt,Ne=J==="y"?Mt:kt,Ht=J==="y"?"height":"width",Xt=rt[J],ri=Xt+tt[Ie],Re=Xt-tt[Ne],si=H?-Tt[Ht]/2:0,lr=lt===ye?ct[Ht]:Tt[Ht],Ln=lt===ye?-Tt[Ht]:-ct[Ht],oi=t.elements.arrow,tn=H&&oi?Bi(oi):{width:0,height:0},pe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Hr(),Pn=pe[Ie],ai=pe[Ne],Le=xn(0,ct[Ht],tn[Ht]),fr=ft?ct[Ht]/2-si-Le-Pn-gt.mainAxis:lr-Le-Pn-gt.mainAxis,Yl=ft?-ct[Ht]/2+si+Le+ai+gt.mainAxis:Ln+Le+ai+gt.mainAxis,ur=t.elements.arrow&&Cn(t.elements.arrow),ql=ur?J==="y"?ur.clientTop||0:ur.clientLeft||0:0,Vs=(It=$t==null?void 0:$t[J])!=null?It:0,Gl=Xt+fr-Vs-ql,Jl=Xt+Yl-Vs,Fs=xn(H?Kn(ri,Gl):ri,Xt,H?Te(Re,Jl):Re);rt[J]=Fs,Jt[J]=Fs-Xt}if(v){var Bs,Xl=J==="x"?xt:Dt,Ql=J==="x"?Mt:kt,Pe=rt[it],ci=it==="y"?"height":"width",Us=Pe+tt[Xl],Ws=Pe-tt[Ql],hr=[xt,Dt].indexOf(at)!==-1,zs=(Bs=$t==null?void 0:$t[it])!=null?Bs:0,Ks=hr?Us:Pe-ct[ci]-Tt[ci]-zs+gt.altAxis,Ys=hr?Pe+ct[ci]+Tt[ci]-zs-gt.altAxis:Ws,qs=H&&hr?Io(Ks,Pe,Ys):xn(H?Ks:Us,Pe,H?Ys:Ws);rt[it]=qs,Jt[it]=qs-Pe}t.modifiersData[a]=Jt}}const Zr={name:"preventOverflow",enabled:!0,phase:"main",fn:ta,requiresIfExists:["offset"]};function ea(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function na(i){return i===jt(i)||!Ut(i)?Ki(i):ea(i)}function ia(i){var t=i.getBoundingClientRect(),n=qe(t.width)/i.offsetWidth||1,a=qe(t.height)/i.offsetHeight||1;return n!==1||a!==1}function ra(i,t,n){n===void 0&&(n=!1);var a=Ut(t),u=Ut(t)&&ia(t),_=he(t),g=Ge(i,u,n),v={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(a||!a&&!n)&&((te(t)!=="body"||qi(_))&&(v=na(t)),Ut(t)?(b=Ge(t,!0),b.x+=t.clientLeft,b.y+=t.clientTop):_&&(b.x=Yi(_))),{x:g.left+v.scrollLeft-b.x,y:g.top+v.scrollTop-b.y,width:g.width,height:g.height}}function sa(i){var t=new Map,n=new Set,a=[];i.forEach(function(_){t.set(_.name,_)});function u(_){n.add(_.name);var g=[].concat(_.requires||[],_.requiresIfExists||[]);g.forEach(function(v){if(!n.has(v)){var b=t.get(v);b&&u(b)}}),a.push(_)}return i.forEach(function(_){n.has(_.name)||u(_)}),a}function oa(i){var t=sa(i);return Pr.reduce(function(n,a){return n.concat(t.filter(function(u){return u.phase===a}))},[])}function aa(i){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(i())})})),t}}function ca(i){var t=i.reduce(function(n,a){var u=n[a.name];return n[a.name]=u?Object.assign({},u,a,{options:Object.assign({},u.options,a.options),data:Object.assign({},u.data,a.data)}):a,n},{});return Object.keys(t).map(function(n){return t[n]})}var ts={placement:"bottom",modifiers:[],strategy:"absolute"};function es(){for(var i=arguments.length,t=new Array(i),n=0;n<i;n++)t[n]=arguments[n];return!t.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function Jn(i){i===void 0&&(i={});var t=i,n=t.defaultModifiers,a=n===void 0?[]:n,u=t.defaultOptions,_=u===void 0?ts:u;return function(v,b,I){I===void 0&&(I=_);var w={placement:"bottom",orderedModifiers:[],options:Object.assign({},ts,_),modifiersData:{},elements:{reference:v,popper:b},attributes:{},styles:{}},W=[],Y=!1,H={state:w,setOptions:function(at){var lt=typeof at=="function"?at(w.options):at;q(),w.options=Object.assign({},_,w.options,lt),w.scrollParents={reference:be(v)?Dn(v):v.contextElement?Dn(v.contextElement):[],popper:Dn(b)};var ft=oa(ca([].concat(a,w.options.modifiers)));return w.orderedModifiers=ft.filter(function(J){return J.enabled}),ot(),H.update()},forceUpdate:function(){if(!Y){var at=w.elements,lt=at.reference,ft=at.popper;if(es(lt,ft)){w.rects={reference:ra(lt,Cn(ft),w.options.strategy==="fixed"),popper:Bi(ft)},w.reset=!1,w.placement=w.options.placement,w.orderedModifiers.forEach(function(gt){return w.modifiersData[gt.name]=Object.assign({},gt.data)});for(var J=0;J<w.orderedModifiers.length;J++){if(w.reset===!0){w.reset=!1,J=-1;continue}var it=w.orderedModifiers[J],rt=it.fn,ct=it.options,Tt=ct===void 0?{}:ct,mt=it.name;typeof rt=="function"&&(w=rt({state:w,options:Tt,name:mt,instance:H})||w)}}}},update:aa(function(){return new Promise(function(tt){H.forceUpdate(),tt(w)})}),destroy:function(){q(),Y=!0}};if(!es(v,b))return H;H.setOptions(I).then(function(tt){!Y&&I.onFirstUpdate&&I.onFirstUpdate(tt)});function ot(){w.orderedModifiers.forEach(function(tt){var at=tt.name,lt=tt.options,ft=lt===void 0?{}:lt,J=tt.effect;if(typeof J=="function"){var it=J({state:w,name:at,instance:H,options:ft}),rt=function(){};W.push(it||rt)}})}function q(){W.forEach(function(tt){return tt()}),W=[]}return H}}var la=Jn(),fa=[zi,Ji,Wi,Vi],ua=Jn({defaultModifiers:fa}),ha=[zi,Ji,Wi,Vi,Qr,qr,Zr,Br,Xr],Xi=Jn({defaultModifiers:ha});const ns=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Ir,afterRead:Cr,afterWrite:Lr,applyStyles:Vi,arrow:Br,auto:zn,basePlacements:ze,beforeMain:xr,beforeRead:$r,beforeWrite:Nr,bottom:Mt,clippingParents:Or,computeStyles:Wi,createPopper:Xi,createPopperBase:la,createPopperLite:ua,detectOverflow:Xe,end:Ke,eventListeners:zi,flip:qr,hide:Xr,left:Dt,main:Dr,modifierPhases:Pr,offset:Qr,placements:ji,popper:Ye,popperGenerator:Jn,popperOffsets:Ji,preventOverflow:Zr,read:Sr,reference:wr,right:kt,start:ye,top:xt,variationPlacements:ki,viewport:Mi,write:Rr},Symbol.toStringTag,{value:"Module"})),is="dropdown",Oe=".bs.dropdown",Qi=".data-api",da="Escape",rs="Tab",pa="ArrowUp",ss="ArrowDown",_a=2,ga=`hide${Oe}`,ma=`hidden${Oe}`,va=`show${Oe}`,Ea=`shown${Oe}`,os=`click${Oe}${Qi}`,as=`keydown${Oe}${Qi}`,Aa=`keyup${Oe}${Qi}`,Qe="show",ya="dropup",ba="dropend",Ta="dropstart",Oa="dropup-center",wa="dropdown-center",we='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',$a=`${we}.${Qe}`,Xn=".dropdown-menu",Sa=".navbar",Ca=".navbar-nav",xa=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Da=Nt()?"top-end":"top-start",Ia=Nt()?"top-start":"top-end",Na=Nt()?"bottom-end":"bottom-start",Ra=Nt()?"bottom-start":"bottom-end",La=Nt()?"left-start":"right-start",Pa=Nt()?"right-start":"left-start",Ma="top",ka="bottom",ja={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Ha={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Gt extends Lt{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=N.next(this._element,Xn)[0]||N.prev(this._element,Xn)[0]||N.findOne(Xn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return ja}static get DefaultType(){return Ha}static get NAME(){return is}toggle(){return this._isShown()?this.hide():this.show()}show(){if(X(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!y.trigger(this._element,va,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Ca))for(const a of[].concat(...document.body.children))y.on(a,"mouseover",ut);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Qe),this._element.classList.add(Qe),y.trigger(this._element,Ea,t)}}hide(){if(X(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!y.trigger(this._element,ga,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))y.off(a,"mouseover",ut);this._popper&&this._popper.destroy(),this._menu.classList.remove(Qe),this._element.classList.remove(Qe),this._element.setAttribute("aria-expanded","false"),Rt.removeDataAttribute(this._menu,"popper"),y.trigger(this._element,ma,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!k(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${is.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof ns>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:k(this._config.reference)?t=Q(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=Xi(t,this._menu,n)}_isShown(){return this._menu.classList.contains(Qe)}_getPlacement(){const t=this._parent;if(t.classList.contains(ba))return La;if(t.classList.contains(Ta))return Pa;if(t.classList.contains(Oa))return Ma;if(t.classList.contains(wa))return ka;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(ya)?n?Ia:Da:n?Ra:Na}_detectNavbar(){return this._element.closest(Sa)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Rt.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...Et(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:n}){const a=N.find(xa,this._menu).filter(u=>nt(u));a.length&&ln(a,n,t===ss,!a.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){const n=Gt.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===_a||t.type==="keyup"&&t.key!==rs)return;const n=N.find($a);for(const a of n){const u=Gt.getInstance(a);if(!u||u._config.autoClose===!1)continue;const _=t.composedPath(),g=_.includes(u._menu);if(_.includes(u._element)||u._config.autoClose==="inside"&&!g||u._config.autoClose==="outside"&&g||u._menu.contains(t.target)&&(t.type==="keyup"&&t.key===rs||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const v={relatedTarget:u._element};t.type==="click"&&(v.clickEvent=t),u._completeHide(v)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),a=t.key===da,u=[pa,ss].includes(t.key);if(!u&&!a||n&&!a)return;t.preventDefault();const _=this.matches(we)?this:N.prev(this,we)[0]||N.next(this,we)[0]||N.findOne(we,t.delegateTarget.parentNode),g=Gt.getOrCreateInstance(_);if(u){t.stopPropagation(),g.show(),g._selectMenuItem(t);return}g._isShown()&&(t.stopPropagation(),g.hide(),_.focus())}}y.on(document,as,we,Gt.dataApiKeydownHandler),y.on(document,as,Xn,Gt.dataApiKeydownHandler),y.on(document,os,Gt.clearMenus),y.on(document,Aa,Gt.clearMenus),y.on(document,os,we,function(i){i.preventDefault(),Gt.getOrCreateInstance(this).toggle()}),vt(Gt);const cs="backdrop",Va="fade",ls="show",fs=`mousedown.bs.${cs}`,Fa={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Ba={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class us extends ht{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Fa}static get DefaultType(){return Ba}static get NAME(){return cs}show(t){if(!this._config.isVisible){Et(t);return}this._append();const n=this._getElement();this._config.isAnimated&&Ct(n),n.classList.add(ls),this._emulateAnimation(()=>{Et(t)})}hide(t){if(!this._config.isVisible){Et(t);return}this._getElement().classList.remove(ls),this._emulateAnimation(()=>{this.dispose(),Et(t)})}dispose(){this._isAppended&&(y.off(this._element,fs),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(Va),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Q(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),y.on(t,fs,()=>{Et(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){wt(t,this._getElement(),this._config.isAnimated)}}const Ua="focustrap",Qn=".bs.focustrap",Wa=`focusin${Qn}`,za=`keydown.tab${Qn}`,Ka="Tab",Ya="forward",hs="backward",qa={autofocus:!0,trapElement:null},Ga={autofocus:"boolean",trapElement:"element"};class ds extends ht{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return qa}static get DefaultType(){return Ga}static get NAME(){return Ua}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),y.off(document,Qn),y.on(document,Wa,t=>this._handleFocusin(t)),y.on(document,za,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,y.off(document,Qn))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const a=N.focusableChildren(n);a.length===0?n.focus():this._lastTabNavDirection===hs?a[a.length-1].focus():a[0].focus()}_handleKeydown(t){t.key===Ka&&(this._lastTabNavDirection=t.shiftKey?hs:Ya)}}const ps=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_s=".sticky-top",Zn="padding-right",gs="margin-right";class Zi{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Zn,n=>n+t),this._setElementAttributes(ps,Zn,n=>n+t),this._setElementAttributes(_s,gs,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Zn),this._resetElementAttributes(ps,Zn),this._resetElementAttributes(_s,gs)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,a){const u=this.getWidth(),_=g=>{if(g!==this._element&&window.innerWidth>g.clientWidth+u)return;this._saveInitialAttribute(g,n);const v=window.getComputedStyle(g).getPropertyValue(n);g.style.setProperty(n,`${a(Number.parseFloat(v))}px`)};this._applyManipulationCallback(t,_)}_saveInitialAttribute(t,n){const a=t.style.getPropertyValue(n);a&&Rt.setDataAttribute(t,n,a)}_resetElementAttributes(t,n){const a=u=>{const _=Rt.getDataAttribute(u,n);if(_===null){u.style.removeProperty(n);return}Rt.removeDataAttribute(u,n),u.style.setProperty(n,_)};this._applyManipulationCallback(t,a)}_applyManipulationCallback(t,n){if(k(t)){n(t);return}for(const a of N.find(t,this._element))n(a)}}const Ja="modal",Wt=".bs.modal",Xa=".data-api",Qa="Escape",Za=`hide${Wt}`,tc=`hidePrevented${Wt}`,ms=`hidden${Wt}`,vs=`show${Wt}`,ec=`shown${Wt}`,nc=`resize${Wt}`,ic=`click.dismiss${Wt}`,rc=`mousedown.dismiss${Wt}`,sc=`keydown.dismiss${Wt}`,oc=`click${Wt}${Xa}`,Es="modal-open",ac="fade",As="show",tr="modal-static",lc=".modal.show",fc=".modal-dialog",uc=".modal-body",hc='[data-bs-toggle="modal"]',dc={backdrop:!0,focus:!0,keyboard:!0},pc={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class $e extends Lt{constructor(t,n){super(t,n),this._dialog=N.findOne(fc,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Zi,this._addEventListeners()}static get Default(){return dc}static get DefaultType(){return pc}static get NAME(){return Ja}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||y.trigger(this._element,vs,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Es),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||y.trigger(this._element,Za).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(As),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){y.off(window,Wt),y.off(this._dialog,Wt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new us({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ds({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=N.findOne(uc,this._dialog);n&&(n.scrollTop=0),Ct(this._element),this._element.classList.add(As);const a=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,y.trigger(this._element,ec,{relatedTarget:t})};this._queueCallback(a,this._dialog,this._isAnimated())}_addEventListeners(){y.on(this._element,sc,t=>{if(t.key===Qa){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),y.on(window,nc,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),y.on(this._element,rc,t=>{y.one(this._element,ic,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Es),this._resetAdjustments(),this._scrollBar.reset(),y.trigger(this._element,ms)})}_isAnimated(){return this._element.classList.contains(ac)}_triggerBackdropTransition(){if(y.trigger(this._element,tc).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,a=this._element.style.overflowY;a==="hidden"||this._element.classList.contains(tr)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(tr),this._queueCallback(()=>{this._element.classList.remove(tr),this._queueCallback(()=>{this._element.style.overflowY=a},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),a=n>0;if(a&&!t){const u=Nt()?"paddingLeft":"paddingRight";this._element.style[u]=`${n}px`}if(!a&&t){const u=Nt()?"paddingRight":"paddingLeft";this._element.style[u]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const a=$e.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof a[t]>"u")throw new TypeError(`No method named "${t}"`);a[t](n)}})}}y.on(document,oc,hc,function(i){const t=N.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&i.preventDefault(),y.one(t,vs,u=>{u.defaultPrevented||y.one(t,ms,()=>{nt(this)&&this.focus()})});const n=N.findOne(lc);n&&$e.getInstance(n).hide(),$e.getOrCreateInstance(t).toggle(this)}),Ee($e),vt($e);const _c="offcanvas",oe=".bs.offcanvas",ys=".data-api",gc=`load${oe}${ys}`,mc="Escape",bs="show",Ts="showing",Os="hiding",vc="offcanvas-backdrop",ws=".offcanvas.show",Ec=`show${oe}`,Ac=`shown${oe}`,yc=`hide${oe}`,$s=`hidePrevented${oe}`,Ss=`hidden${oe}`,bc=`resize${oe}`,Tc=`click${oe}${ys}`,Oc=`keydown.dismiss${oe}`,wc='[data-bs-toggle="offcanvas"]',$c={backdrop:!0,keyboard:!0,scroll:!1},Sc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ae extends Lt{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return $c}static get DefaultType(){return Sc}static get NAME(){return _c}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||y.trigger(this._element,Ec,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Zi().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ts);const a=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(bs),this._element.classList.remove(Ts),y.trigger(this._element,Ac,{relatedTarget:t})};this._queueCallback(a,this._element,!0)}hide(){if(!this._isShown||y.trigger(this._element,yc).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Os),this._backdrop.hide();const n=()=>{this._element.classList.remove(bs,Os),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Zi().reset(),y.trigger(this._element,Ss)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){y.trigger(this._element,$s);return}this.hide()},n=!!this._config.backdrop;return new us({className:vc,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new ds({trapElement:this._element})}_addEventListeners(){y.on(this._element,Oc,t=>{if(t.key===mc){if(this._config.keyboard){this.hide();return}y.trigger(this._element,$s)}})}static jQueryInterface(t){return this.each(function(){const n=ae.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}y.on(document,Tc,wc,function(i){const t=N.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),X(this))return;y.one(t,Ss,()=>{nt(this)&&this.focus()});const n=N.findOne(ws);n&&n!==t&&ae.getInstance(n).hide(),ae.getOrCreateInstance(t).toggle(this)}),y.on(window,gc,()=>{for(const i of N.find(ws))ae.getOrCreateInstance(i).show()}),y.on(window,bc,()=>{for(const i of N.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(i).position!=="fixed"&&ae.getOrCreateInstance(i).hide()}),Ee(ae),vt(ae);const Cs={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Cc=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),xc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Dc=(i,t)=>{const n=i.nodeName.toLowerCase();return t.includes(n)?Cc.has(n)?!!xc.test(i.nodeValue):!0:t.filter(a=>a instanceof RegExp).some(a=>a.test(n))};function Ic(i,t,n){if(!i.length)return i;if(n&&typeof n=="function")return n(i);const u=new window.DOMParser().parseFromString(i,"text/html"),_=[].concat(...u.body.querySelectorAll("*"));for(const g of _){const v=g.nodeName.toLowerCase();if(!Object.keys(t).includes(v)){g.remove();continue}const b=[].concat(...g.attributes),I=[].concat(t["*"]||[],t[v]||[]);for(const w of b)Dc(w,I)||g.removeAttribute(w.nodeName)}return u.body.innerHTML}const Nc="TemplateFactory",Rc={allowList:Cs,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Lc={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Pc={entry:"(string|element|function|null)",selector:"(string|element)"};class Mc extends ht{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Rc}static get DefaultType(){return Lc}static get NAME(){return Nc}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[u,_]of Object.entries(this._config.content))this._setContent(t,_,u);const n=t.children[0],a=this._resolvePossibleFunction(this._config.extraClass);return a&&n.classList.add(...a.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[n,a]of Object.entries(t))super._typeCheckConfig({selector:n,entry:a},Pc)}_setContent(t,n,a){const u=N.findOne(a,t);if(u){if(n=this._resolvePossibleFunction(n),!n){u.remove();return}if(k(n)){this._putElementInTemplate(Q(n),u);return}if(this._config.html){u.innerHTML=this._maybeSanitize(n);return}u.textContent=n}}_maybeSanitize(t){return this._config.sanitize?Ic(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Et(t,[this])}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}}const kc="tooltip",jc=new Set(["sanitize","allowList","sanitizeFn"]),er="fade",Hc="modal",ti="show",Vc=".tooltip-inner",xs=`.${Hc}`,Ds="hide.bs.modal",In="hover",nr="focus",Fc="click",Bc="manual",Uc="hide",Wc="hidden",zc="show",Kc="shown",Yc="inserted",qc="click",Gc="focusin",Jc="focusout",Xc="mouseenter",Qc="mouseleave",Zc={AUTO:"auto",TOP:"top",RIGHT:Nt()?"left":"right",BOTTOM:"bottom",LEFT:Nt()?"right":"left"},tl={allowList:Cs,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},el={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Se extends Lt{constructor(t,n){if(typeof ns>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return tl}static get DefaultType(){return el}static get NAME(){return kc}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),y.off(this._element.closest(xs),Ds,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=y.trigger(this._element,this.constructor.eventName(zc)),a=(ce(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!a)return;this._disposePopper();const u=this._getTipElement();this._element.setAttribute("aria-describedby",u.getAttribute("id"));const{container:_}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(_.append(u),y.trigger(this._element,this.constructor.eventName(Yc))),this._popper=this._createPopper(u),u.classList.add(ti),"ontouchstart"in document.documentElement)for(const v of[].concat(...document.body.children))y.on(v,"mouseover",ut);const g=()=>{y.trigger(this._element,this.constructor.eventName(Kc)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(g,this.tip,this._isAnimated())}hide(){if(!this._isShown()||y.trigger(this._element,this.constructor.eventName(Uc)).defaultPrevented)return;if(this._getTipElement().classList.remove(ti),"ontouchstart"in document.documentElement)for(const u of[].concat(...document.body.children))y.off(u,"mouseover",ut);this._activeTrigger[Fc]=!1,this._activeTrigger[nr]=!1,this._activeTrigger[In]=!1,this._isHovered=null;const a=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),y.trigger(this._element,this.constructor.eventName(Wc)))};this._queueCallback(a,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(er,ti),n.classList.add(`bs-${this.constructor.NAME}-auto`);const a=S(this.constructor.NAME).toString();return n.setAttribute("id",a),this._isAnimated()&&n.classList.add(er),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Mc({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Vc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(er)}_isShown(){return this.tip&&this.tip.classList.contains(ti)}_createPopper(t){const n=Et(this._config.placement,[this,t,this._element]),a=Zc[n.toUpperCase()];return Xi(this._element,t,this._getPopperConfig(a))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return Et(t,[this._element])}_getPopperConfig(t){const n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:a=>{this._getTipElement().setAttribute("data-popper-placement",a.state.placement)}}]};return{...n,...Et(this._config.popperConfig,[n])}}_setListeners(){const t=this._config.trigger.split(" ");for(const n of t)if(n==="click")y.on(this._element,this.constructor.eventName(qc),this._config.selector,a=>{this._initializeOnDelegatedTarget(a).toggle()});else if(n!==Bc){const a=n===In?this.constructor.eventName(Xc):this.constructor.eventName(Gc),u=n===In?this.constructor.eventName(Qc):this.constructor.eventName(Jc);y.on(this._element,a,this._config.selector,_=>{const g=this._initializeOnDelegatedTarget(_);g._activeTrigger[_.type==="focusin"?nr:In]=!0,g._enter()}),y.on(this._element,u,this._config.selector,_=>{const g=this._initializeOnDelegatedTarget(_);g._activeTrigger[_.type==="focusout"?nr:In]=g._element.contains(_.relatedTarget),g._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},y.on(this._element.closest(xs),Ds,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const n=Rt.getDataAttributes(this._element);for(const a of Object.keys(n))jc.has(a)&&delete n[a];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:Q(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[n,a]of Object.entries(this._config))this.constructor.Default[n]!==a&&(t[n]=a);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const n=Se.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}vt(Se);const nl="popover",il=".popover-header",rl=".popover-body",sl={...Se.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ol={...Se.DefaultType,content:"(null|string|element|function)"};class ei extends Se{static get Default(){return sl}static get DefaultType(){return ol}static get NAME(){return nl}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[il]:this._getTitle(),[rl]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const n=ei.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}vt(ei);const al="scrollspy",ir=".bs.scrollspy",cl=".data-api",ll=`activate${ir}`,Is=`click${ir}`,fl=`load${ir}${cl}`,ul="dropdown-item",Ze="active",hl='[data-bs-spy="scroll"]',rr="[href]",dl=".nav, .list-group",Ns=".nav-link",pl=`${Ns}, .nav-item > ${Ns}, .list-group-item`,_l=".dropdown",gl=".dropdown-toggle",ml={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},vl={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Nn extends Lt{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return ml}static get DefaultType(){return vl}static get NAME(){return al}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Q(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(y.off(this._config.target,Is),y.on(this._config.target,Is,rr,t=>{const n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();const a=this._rootElement||window,u=n.offsetTop-this._element.offsetTop;if(a.scrollTo){a.scrollTo({top:u,behavior:"smooth"});return}a.scrollTop=u}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){const n=g=>this._targetLinks.get(`#${g.target.id}`),a=g=>{this._previousScrollData.visibleEntryTop=g.target.offsetTop,this._process(n(g))},u=(this._rootElement||document.documentElement).scrollTop,_=u>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=u;for(const g of t){if(!g.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(g));continue}const v=g.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(_&&v){if(a(g),!u)return;continue}!_&&!v&&a(g)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=N.find(rr,this._config.target);for(const n of t){if(!n.hash||X(n))continue;const a=N.findOne(decodeURI(n.hash),this._element);nt(a)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,a))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Ze),this._activateParents(t),y.trigger(this._element,ll,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(ul)){N.findOne(gl,t.closest(_l)).classList.add(Ze);return}for(const n of N.parents(t,dl))for(const a of N.prev(n,pl))a.classList.add(Ze)}_clearActiveClass(t){t.classList.remove(Ze);const n=N.find(`${rr}.${Ze}`,t);for(const a of n)a.classList.remove(Ze)}static jQueryInterface(t){return this.each(function(){const n=Nn.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}y.on(window,fl,()=>{for(const i of N.find(hl))Nn.getOrCreateInstance(i)}),vt(Nn);const El="tab",Ce=".bs.tab",Al=`hide${Ce}`,yl=`hidden${Ce}`,bl=`show${Ce}`,Tl=`shown${Ce}`,Ol=`click${Ce}`,wl=`keydown${Ce}`,$l=`load${Ce}`,Sl="ArrowLeft",Rs="ArrowRight",Cl="ArrowUp",Ls="ArrowDown",sr="Home",Ps="End",xe="active",Ms="fade",or="show",xl="dropdown",ks=".dropdown-toggle",Dl=".dropdown-menu",ar=`:not(${ks})`,Il='.list-group, .nav, [role="tablist"]',Nl=".nav-item, .list-group-item",Rl=`.nav-link${ar}, .list-group-item${ar}, [role="tab"]${ar}`,js='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',cr=`${Rl}, ${js}`,Ll=`.${xe}[data-bs-toggle="tab"], .${xe}[data-bs-toggle="pill"], .${xe}[data-bs-toggle="list"]`;class De extends Lt{constructor(t){super(t),this._parent=this._element.closest(Il),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),y.on(this._element,wl,n=>this._keydown(n)))}static get NAME(){return El}show(){const t=this._element;if(this._elemIsActive(t))return;const n=this._getActiveElem(),a=n?y.trigger(n,Al,{relatedTarget:t}):null;y.trigger(t,bl,{relatedTarget:n}).defaultPrevented||a&&a.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(xe),this._activate(N.getElementFromSelector(t));const a=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(or);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),y.trigger(t,Tl,{relatedTarget:n})};this._queueCallback(a,t,t.classList.contains(Ms))}_deactivate(t,n){if(!t)return;t.classList.remove(xe),t.blur(),this._deactivate(N.getElementFromSelector(t));const a=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(or);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),y.trigger(t,yl,{relatedTarget:n})};this._queueCallback(a,t,t.classList.contains(Ms))}_keydown(t){if(![Sl,Rs,Cl,Ls,sr,Ps].includes(t.key))return;t.stopPropagation(),t.preventDefault();const n=this._getChildren().filter(u=>!X(u));let a;if([sr,Ps].includes(t.key))a=n[t.key===sr?0:n.length-1];else{const u=[Rs,Ls].includes(t.key);a=ln(n,t.target,u,!0)}a&&(a.focus({preventScroll:!0}),De.getOrCreateInstance(a).show())}_getChildren(){return N.find(cr,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(const a of n)this._setInitialAttributesOnChild(a)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const n=this._elemIsActive(t),a=this._getOuterElement(t);t.setAttribute("aria-selected",n),a!==t&&this._setAttributeIfNotExists(a,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const n=N.getElementFromSelector(t);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){const a=this._getOuterElement(t);if(!a.classList.contains(xl))return;const u=(_,g)=>{const v=N.findOne(_,a);v&&v.classList.toggle(g,n)};u(ks,xe),u(Dl,or),a.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,a){t.hasAttribute(n)||t.setAttribute(n,a)}_elemIsActive(t){return t.classList.contains(xe)}_getInnerElement(t){return t.matches(cr)?t:N.findOne(cr,t)}_getOuterElement(t){return t.closest(Nl)||t}static jQueryInterface(t){return this.each(function(){const n=De.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}y.on(document,Ol,js,function(i){["A","AREA"].includes(this.tagName)&&i.preventDefault(),!X(this)&&De.getOrCreateInstance(this).show()}),y.on(window,$l,()=>{for(const i of N.find(Ll))De.getOrCreateInstance(i)}),vt(De);const Pl="toast",de=".bs.toast",Ml=`mouseover${de}`,kl=`mouseout${de}`,jl=`focusin${de}`,Hl=`focusout${de}`,Vl=`hide${de}`,Fl=`hidden${de}`,Bl=`show${de}`,Ul=`shown${de}`,Wl="fade",Hs="hide",ni="show",ii="showing",zl={animation:"boolean",autohide:"boolean",delay:"number"},Kl={animation:!0,autohide:!0,delay:5e3};class Rn extends Lt{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Kl}static get DefaultType(){return zl}static get NAME(){return Pl}show(){if(y.trigger(this._element,Bl).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Wl);const n=()=>{this._element.classList.remove(ii),y.trigger(this._element,Ul),this._maybeScheduleHide()};this._element.classList.remove(Hs),Ct(this._element),this._element.classList.add(ni,ii),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||y.trigger(this._element,Vl).defaultPrevented)return;const n=()=>{this._element.classList.add(Hs),this._element.classList.remove(ii,ni),y.trigger(this._element,Fl)};this._element.classList.add(ii),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ni),super.dispose()}isShown(){return this._element.classList.contains(ni)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const a=t.relatedTarget;this._element===a||this._element.contains(a)||this._maybeScheduleHide()}_setListeners(){y.on(this._element,Ml,t=>this._onInteraction(t,!0)),y.on(this._element,kl,t=>this._onInteraction(t,!1)),y.on(this._element,jl,t=>this._onInteraction(t,!0)),y.on(this._element,Hl,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const n=Rn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}return Ee(Rn),vt(Rn),{Alert:zt,Button:Pt,Carousel:qt,Collapse:We,Dropdown:Gt,Modal:$e,Offcanvas:ae,Popover:ei,ScrollSpy:Nn,Tab:De,Toast:Rn,Tooltip:Se}})})(af);var ro={};ArrayBuffer.isView||(ArrayBuffer.isView=f=>f!==null&&typeof f=="object"&&f.buffer instanceof ArrayBuffer);typeof globalThis>"u"&&typeof window<"u"&&(window.globalThis=window);var rn={};function Gs(f,l){l.headers=f.headers||{},l.statusMessage=f.statusText,l.statusCode=f.status,l.data=f.response}function Qt(f,l,o){return new Promise(function(h,p){o=o||{};var m=new XMLHttpRequest,A,O,T,S=o.body,$=o.headers||{};o.timeout&&(m.timeout=o.timeout),m.ontimeout=m.onerror=function(x){x.timeout=x.type=="timeout",p(x)},m.open(f,l.href||l),m.onload=function(){for(T=m.getAllResponseHeaders().trim().split(/[\r\n]+/),Gs(m,m);O=T.shift();)O=O.split(": "),m.headers[O.shift().toLowerCase()]=O.join(": ");if(O=m.headers["content-type"],O&&~O.indexOf("application/json"))try{m.data=JSON.parse(m.data,o.reviver)}catch(x){return Gs(m,x),p(x)}(m.status>=400?p:h)(m)},typeof FormData<"u"&&S instanceof FormData||S&&typeof S=="object"&&($["content-type"]="application/json",S=JSON.stringify(S)),m.withCredentials=!!o.withCredentials;for(A in $)m.setRequestHeader(A,$[A]);m.send(S)})}var cf=Qt.bind(Qt,"GET"),lf=Qt.bind(Qt,"POST"),ff=Qt.bind(Qt,"PATCH"),uf=Qt.bind(Qt,"DELETE"),hf=Qt.bind(Qt,"PUT");const df=Object.freeze(Object.defineProperty({__proto__:null,del:uf,get:cf,patch:ff,post:lf,put:hf,send:Qt},Symbol.toStringTag,{value:"Module"})),so=ef(df);var Er={};(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.ServerError=f.CloseCode=void 0,function(o){o[o.CONSENTED=4e3]="CONSENTED",o[o.DEVMODE_RESTART=4010]="DEVMODE_RESTART"}(f.CloseCode||(f.CloseCode={}));class l extends Error{constructor(h,p){super(p),this.name="ServerError",this.code=h}}f.ServerError=l})(Er);var Mn={},sn={};Object.defineProperty(sn,"__esModule",{value:!0});sn.decode=sn.encode=void 0;function an(f,l){if(this._offset=l,f instanceof ArrayBuffer)this._buffer=f,this._view=new DataView(this._buffer);else if(ArrayBuffer.isView(f))this._buffer=f.buffer,this._view=new DataView(this._buffer,f.byteOffset,f.byteLength);else throw new Error("Invalid argument")}function pf(f,l,o){for(var h="",p=0,m=l,A=l+o;m<A;m++){var O=f.getUint8(m);if(!(O&128)){h+=String.fromCharCode(O);continue}if((O&224)===192){h+=String.fromCharCode((O&31)<<6|f.getUint8(++m)&63);continue}if((O&240)===224){h+=String.fromCharCode((O&15)<<12|(f.getUint8(++m)&63)<<6|(f.getUint8(++m)&63)<<0);continue}if((O&248)===240){p=(O&7)<<18|(f.getUint8(++m)&63)<<12|(f.getUint8(++m)&63)<<6|(f.getUint8(++m)&63)<<0,p>=65536?(p-=65536,h+=String.fromCharCode((p>>>10)+55296,(p&1023)+56320)):h+=String.fromCharCode(p);continue}throw new Error("Invalid byte "+O.toString(16))}return h}an.prototype._array=function(f){for(var l=new Array(f),o=0;o<f;o++)l[o]=this._parse();return l};an.prototype._map=function(f){for(var l="",o={},h=0;h<f;h++)l=this._parse(),o[l]=this._parse();return o};an.prototype._str=function(f){var l=pf(this._view,this._offset,f);return this._offset+=f,l};an.prototype._bin=function(f){var l=this._buffer.slice(this._offset,this._offset+f);return this._offset+=f,l};an.prototype._parse=function(){var f=this._view.getUint8(this._offset++),l,o=0,h=0,p=0,m=0;if(f<192)return f<128?f:f<144?this._map(f&15):f<160?this._array(f&15):this._str(f&31);if(f>223)return(255-f+1)*-1;switch(f){case 192:return null;case 194:return!1;case 195:return!0;case 196:return o=this._view.getUint8(this._offset),this._offset+=1,this._bin(o);case 197:return o=this._view.getUint16(this._offset),this._offset+=2,this._bin(o);case 198:return o=this._view.getUint32(this._offset),this._offset+=4,this._bin(o);case 199:if(o=this._view.getUint8(this._offset),h=this._view.getInt8(this._offset+1),this._offset+=2,h===-1){var A=this._view.getUint32(this._offset);return p=this._view.getInt32(this._offset+4),m=this._view.getUint32(this._offset+8),this._offset+=12,new Date((p*4294967296+m)*1e3+A/1e6)}return[h,this._bin(o)];case 200:return o=this._view.getUint16(this._offset),h=this._view.getInt8(this._offset+2),this._offset+=3,[h,this._bin(o)];case 201:return o=this._view.getUint32(this._offset),h=this._view.getInt8(this._offset+4),this._offset+=5,[h,this._bin(o)];case 202:return l=this._view.getFloat32(this._offset),this._offset+=4,l;case 203:return l=this._view.getFloat64(this._offset),this._offset+=8,l;case 204:return l=this._view.getUint8(this._offset),this._offset+=1,l;case 205:return l=this._view.getUint16(this._offset),this._offset+=2,l;case 206:return l=this._view.getUint32(this._offset),this._offset+=4,l;case 207:return p=this._view.getUint32(this._offset)*Math.pow(2,32),m=this._view.getUint32(this._offset+4),this._offset+=8,p+m;case 208:return l=this._view.getInt8(this._offset),this._offset+=1,l;case 209:return l=this._view.getInt16(this._offset),this._offset+=2,l;case 210:return l=this._view.getInt32(this._offset),this._offset+=4,l;case 211:return p=this._view.getInt32(this._offset)*Math.pow(2,32),m=this._view.getUint32(this._offset+4),this._offset+=8,p+m;case 212:if(h=this._view.getInt8(this._offset),this._offset+=1,h===0){this._offset+=1;return}return[h,this._bin(1)];case 213:return h=this._view.getInt8(this._offset),this._offset+=1,[h,this._bin(2)];case 214:return h=this._view.getInt8(this._offset),this._offset+=1,h===-1?(l=this._view.getUint32(this._offset),this._offset+=4,new Date(l*1e3)):[h,this._bin(4)];case 215:if(h=this._view.getInt8(this._offset),this._offset+=1,h===0)return p=this._view.getInt32(this._offset)*Math.pow(2,32),m=this._view.getUint32(this._offset+4),this._offset+=8,new Date(p+m);if(h===-1){p=this._view.getUint32(this._offset),m=this._view.getUint32(this._offset+4),this._offset+=8;var O=(p&3)*4294967296+m;return new Date(O*1e3+(p>>>2)/1e6)}return[h,this._bin(8)];case 216:return h=this._view.getInt8(this._offset),this._offset+=1,[h,this._bin(16)];case 217:return o=this._view.getUint8(this._offset),this._offset+=1,this._str(o);case 218:return o=this._view.getUint16(this._offset),this._offset+=2,this._str(o);case 219:return o=this._view.getUint32(this._offset),this._offset+=4,this._str(o);case 220:return o=this._view.getUint16(this._offset),this._offset+=2,this._array(o);case 221:return o=this._view.getUint32(this._offset),this._offset+=4,this._array(o);case 222:return o=this._view.getUint16(this._offset),this._offset+=2,this._map(o);case 223:return o=this._view.getUint32(this._offset),this._offset+=4,this._map(o)}throw new Error("Could not parse")};function _f(f,l=0){var o=new an(f,l),h=o._parse();if(o._offset!==f.byteLength)throw new Error(f.byteLength-o._offset+" trailing bytes");return h}sn.decode=_f;var gf=4294967296-1,mf=17179869184-1;function vf(f,l,o){for(var h=0,p=0,m=o.length;p<m;p++)h=o.charCodeAt(p),h<128?f.setUint8(l++,h):h<2048?(f.setUint8(l++,192|h>>6),f.setUint8(l++,128|h&63)):h<55296||h>=57344?(f.setUint8(l++,224|h>>12),f.setUint8(l++,128|h>>6&63),f.setUint8(l++,128|h&63)):(p++,h=65536+((h&1023)<<10|o.charCodeAt(p)&1023),f.setUint8(l++,240|h>>18),f.setUint8(l++,128|h>>12&63),f.setUint8(l++,128|h>>6&63),f.setUint8(l++,128|h&63))}function Ef(f){for(var l=0,o=0,h=0,p=f.length;h<p;h++)l=f.charCodeAt(h),l<128?o+=1:l<2048?o+=2:l<55296||l>=57344?o+=3:(h++,o+=4);return o}function en(f,l,o){var h=typeof o,p=0,m=0,A=0,O=0,T=0,S=0;if(h==="string"){if(T=Ef(o),T<32)f.push(T|160),S=1;else if(T<256)f.push(217,T),S=2;else if(T<65536)f.push(218,T>>8,T),S=3;else if(T<4294967296)f.push(219,T>>24,T>>16,T>>8,T),S=5;else throw new Error("String too long");return l.push({_str:o,_length:T,_offset:f.length}),S+T}if(h==="number")return Math.floor(o)!==o||!isFinite(o)?(f.push(203),l.push({_float:o,_length:8,_offset:f.length}),9):o>=0?o<128?(f.push(o),1):o<256?(f.push(204,o),2):o<65536?(f.push(205,o>>8,o),3):o<4294967296?(f.push(206,o>>24,o>>16,o>>8,o),5):(A=o/Math.pow(2,32)>>0,O=o>>>0,f.push(207,A>>24,A>>16,A>>8,A,O>>24,O>>16,O>>8,O),9):o>=-32?(f.push(o),1):o>=-128?(f.push(208,o),2):o>=-32768?(f.push(209,o>>8,o),3):o>=-2147483648?(f.push(210,o>>24,o>>16,o>>8,o),5):(A=Math.floor(o/Math.pow(2,32)),O=o>>>0,f.push(211,A>>24,A>>16,A>>8,A,O>>24,O>>16,O>>8,O),9);if(h==="object"){if(o===null)return f.push(192),1;if(Array.isArray(o)){if(T=o.length,T<16)f.push(T|144),S=1;else if(T<65536)f.push(220,T>>8,T),S=3;else if(T<4294967296)f.push(221,T>>24,T>>16,T>>8,T),S=5;else throw new Error("Array too large");for(p=0;p<T;p++)S+=en(f,l,o[p]);return S}if(o instanceof Date){var $=o.getTime(),x=Math.floor($/1e3),k=($-x*1e3)*1e6;return x>=0&&k>=0&&x<=mf?k===0&&x<=gf?(f.push(214,255,x>>24,x>>16,x>>8,x),6):(A=x/4294967296,O=x&4294967295,f.push(215,255,k>>22,k>>14,k>>6,A,O>>24,O>>16,O>>8,O),10):(A=Math.floor(x/4294967296),O=x>>>0,f.push(199,12,255,k>>24,k>>16,k>>8,k,A>>24,A>>16,A>>8,A,O>>24,O>>16,O>>8,O),15)}if(o instanceof ArrayBuffer){if(T=o.byteLength,T<256)f.push(196,T),S=2;else if(T<65536)f.push(197,T>>8,T),S=3;else if(T<4294967296)f.push(198,T>>24,T>>16,T>>8,T),S=5;else throw new Error("Buffer too large");return l.push({_bin:o,_length:T,_offset:f.length}),S+T}if(typeof o.toJSON=="function")return en(f,l,o.toJSON());var Q=[],nt="",X=Object.keys(o);for(p=0,m=X.length;p<m;p++)nt=X[p],o[nt]!==void 0&&typeof o[nt]!="function"&&Q.push(nt);if(T=Q.length,T<16)f.push(T|128),S=1;else if(T<65536)f.push(222,T>>8,T),S=3;else if(T<4294967296)f.push(223,T>>24,T>>16,T>>8,T),S=5;else throw new Error("Object too large");for(p=0;p<T;p++)nt=Q[p],S+=en(f,l,nt),S+=en(f,l,o[nt]);return S}if(h==="boolean")return f.push(o?195:194),1;if(h==="undefined")return f.push(192),1;if(typeof o.toJSON=="function")return en(f,l,o.toJSON());throw new Error("Could not encode")}function Af(f){var l=[],o=[],h=en(l,o,f),p=new ArrayBuffer(h),m=new DataView(p),A=0,O=0,T=-1;o.length>0&&(T=o[0]._offset);for(var S,$=0,x=0,k=0,Q=l.length;k<Q;k++)if(m.setUint8(O+k,l[k]),k+1===T){if(S=o[A],$=S._length,x=O+T,S._bin)for(var nt=new Uint8Array(S._bin),X=0;X<$;X++)m.setUint8(x+X,nt[X]);else S._str?vf(m,x,S._str):S._float!==void 0&&m.setFloat64(x,S._float);A++,O+=$,o[A]&&(T=o[A]._offset)}return p}sn.encode=Af;var hi={},di={},yf=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},bf=pt&&pt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(di,"__esModule",{value:!0});di.WebSocketTransport=void 0;const Tf=bf(yf),Js=globalThis.WebSocket||Tf.default;class Of{constructor(l){this.events=l}send(l){l instanceof ArrayBuffer?this.ws.send(l):Array.isArray(l)&&this.ws.send(new Uint8Array(l).buffer)}connect(l){this.ws=new Js(l,this.protocols),this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror}close(l,o){this.ws.close(l,o)}get isOpen(){return this.ws.readyState===Js.OPEN}}di.WebSocketTransport=Of;Object.defineProperty(hi,"__esModule",{value:!0});hi.Connection=void 0;const wf=di;class $f{constructor(){this.events={},this.transport=new wf.WebSocketTransport(this.events)}send(l){this.transport.send(l)}connect(l){this.transport.connect(l)}close(l,o){this.transport.close(l,o)}get isOpen(){return this.transport.isOpen}}hi.Connection=$f;var Ar={};(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.utf8Length=f.utf8Read=f.ErrorCode=f.Protocol=void 0,function(h){h[h.HANDSHAKE=9]="HANDSHAKE",h[h.JOIN_ROOM=10]="JOIN_ROOM",h[h.ERROR=11]="ERROR",h[h.LEAVE_ROOM=12]="LEAVE_ROOM",h[h.ROOM_DATA=13]="ROOM_DATA",h[h.ROOM_STATE=14]="ROOM_STATE",h[h.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",h[h.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",h[h.ROOM_DATA_BYTES=17]="ROOM_DATA_BYTES"}(f.Protocol||(f.Protocol={})),function(h){h[h.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",h[h.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",h[h.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",h[h.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",h[h.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",h[h.AUTH_FAILED=4215]="AUTH_FAILED",h[h.APPLICATION_ERROR=4216]="APPLICATION_ERROR"}(f.ErrorCode||(f.ErrorCode={}));function l(h,p){const m=h[p++];for(var A="",O=0,T=p,S=p+m;T<S;T++){var $=h[T];if(!($&128)){A+=String.fromCharCode($);continue}if(($&224)===192){A+=String.fromCharCode(($&31)<<6|h[++T]&63);continue}if(($&240)===224){A+=String.fromCharCode(($&15)<<12|(h[++T]&63)<<6|(h[++T]&63)<<0);continue}if(($&248)===240){O=($&7)<<18|(h[++T]&63)<<12|(h[++T]&63)<<6|(h[++T]&63)<<0,O>=65536?(O-=65536,A+=String.fromCharCode((O>>>10)+55296,(O&1023)+56320)):A+=String.fromCharCode(O);continue}throw new Error("Invalid byte "+$.toString(16))}return A}f.utf8Read=l;function o(h=""){let p=0,m=0;for(let A=0,O=h.length;A<O;A++)p=h.charCodeAt(A),p<128?m+=1:p<2048?m+=2:p<55296||p>=57344?m+=3:(A++,m+=4);return m+1}f.utf8Length=o})(Ar);var Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.getSerializer=Me.registerSerializer=void 0;const oo={};function Sf(f,l){oo[f]=l}Me.registerSerializer=Sf;function Cf(f){const l=oo[f];if(!l)throw new Error("missing serializer: "+f);return l}Me.getSerializer=Cf;var pi={};Object.defineProperty(pi,"__esModule",{value:!0});pi.createNanoEvents=void 0;const xf=()=>({emit(f,...l){let o=this.events[f]||[];for(let h=0,p=o.length;h<p;h++)o[h](...l)},events:{},on(f,l){var o;return!((o=this.events[f])===null||o===void 0)&&o.push(l)||(this.events[f]=[l]),()=>{var h;this.events[f]=(h=this.events[f])===null||h===void 0?void 0:h.filter(p=>l!==p)}}});pi.createNanoEvents=xf;var on={};Object.defineProperty(on,"__esModule",{value:!0});on.createSignal=on.EventEmitter=void 0;class ao{constructor(){this.handlers=[]}register(l,o=!1){return this.handlers.push(l),this}invoke(...l){this.handlers.forEach(o=>o.apply(this,l))}invokeAsync(...l){return Promise.all(this.handlers.map(o=>o.apply(this,l)))}remove(l){const o=this.handlers.indexOf(l);this.handlers[o]=this.handlers[this.handlers.length-1],this.handlers.pop()}clear(){this.handlers=[]}}on.EventEmitter=ao;function Df(){const f=new ao;function l(o){return f.register(o,this===null)}return l.once=o=>{const h=function(...p){o.apply(this,p),f.remove(h)};f.register(h)},l.remove=o=>f.remove(o),l.invoke=(...o)=>f.invoke(...o),l.invokeAsync=(...o)=>f.invokeAsync(...o),l.clear=()=>f.clear(),l}on.createSignal=Df;var gr={exports:{}};(function(f,l){(function(o,h){h(l)})(pt,function(o){var h=function(r,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(s[d]=c[d])},h(r,e)};function p(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");h(r,e);function s(){this.constructor=r}r.prototype=e===null?Object.create(e):(s.prototype=e.prototype,new s)}function m(r,e,s,c){var d=arguments.length,E=d<3?e:c===null?c=Object.getOwnPropertyDescriptor(e,s):c,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(r,e,s,c);else for(var L=r.length-1;L>=0;L--)(C=r[L])&&(E=(d<3?C(E):d>3?C(e,s,E):C(e,s))||E);return d>3&&E&&Object.defineProperty(e,s,E),E}function A(r,e,s){if(s||arguments.length===2)for(var c=0,d=e.length,E;c<d;c++)(E||!(c in e))&&(E||(E=Array.prototype.slice.call(e,0,c)),E[c]=e[c]);return r.concat(E||Array.prototype.slice.call(e))}var O=255,T=213;o.OPERATION=void 0,function(r){r[r.ADD=128]="ADD",r[r.REPLACE=0]="REPLACE",r[r.DELETE=64]="DELETE",r[r.DELETE_AND_ADD=192]="DELETE_AND_ADD",r[r.TOUCH=1]="TOUCH",r[r.CLEAR=10]="CLEAR"}(o.OPERATION||(o.OPERATION={}));var S=function(){function r(e,s,c){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=e,this.setParent(s,c)}return r.prototype.setParent=function(e,s,c){var d=this;if(this.indexes||(this.indexes=this.ref instanceof yt?this.ref._definition.indexes:{}),this.parent=e,this.parentIndex=c,!!s)if(this.root=s,this.ref instanceof yt){var E=this.ref._definition;for(var C in E.schema){var L=this.ref[C];if(L&&L.$changes){var z=E.indexes[C];L.$changes.setParent(this.ref,s,z)}}}else typeof this.ref=="object"&&this.ref.forEach(function(V,R){if(V instanceof yt){var K=V.$changes,P=d.ref.$changes.indexes[R];K.setParent(d.ref,d.root,P)}})},r.prototype.operation=function(e){this.changes.set(--this.currentCustomOperation,e)},r.prototype.change=function(e,s){s===void 0&&(s=o.OPERATION.ADD);var c=typeof e=="number"?e:this.indexes[e];this.assertValidIndex(c,e);var d=this.changes.get(c);(!d||d.op===o.OPERATION.DELETE||d.op===o.OPERATION.TOUCH)&&this.changes.set(c,{op:d&&d.op===o.OPERATION.DELETE?o.OPERATION.DELETE_AND_ADD:s,index:c}),this.allChanges.add(c),this.changed=!0,this.touchParents()},r.prototype.touch=function(e){var s=typeof e=="number"?e:this.indexes[e];this.assertValidIndex(s,e),this.changes.has(s)||this.changes.set(s,{op:o.OPERATION.TOUCH,index:s}),this.allChanges.add(s),this.touchParents()},r.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},r.prototype.getType=function(e){if(this.ref._definition){var s=this.ref._definition;return s.schema[s.fieldsByIndex[e]]}else{var s=this.parent._definition,c=s.schema[s.fieldsByIndex[this.parentIndex]];return Object.values(c)[0]}},r.prototype.getChildrenFilter=function(){var e=this.parent._definition.childFilters;return e&&e[this.parentIndex]},r.prototype.getValue=function(e){return this.ref.getByIndex(e)},r.prototype.delete=function(e){var s=typeof e=="number"?e:this.indexes[e];if(s===void 0){console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat(e," (").concat(s,")"));return}var c=this.getValue(s);this.changes.set(s,{op:o.OPERATION.DELETE,index:s}),this.allChanges.delete(s),delete this.caches[s],c&&c.$changes&&(c.$changes.parent=void 0),this.changed=!0,this.touchParents()},r.prototype.discard=function(e,s){var c=this;e===void 0&&(e=!1),s===void 0&&(s=!1),this.ref instanceof yt||this.changes.forEach(function(d){if(d.op===o.OPERATION.DELETE){var E=c.ref.getIndex(d.index);delete c.indexes[E]}}),this.changes.clear(),this.changed=e,s&&this.allChanges.clear(),this.currentCustomOperation=0},r.prototype.discardAll=function(){var e=this;this.changes.forEach(function(s){var c=e.getValue(s.index);c&&c.$changes&&c.$changes.discardAll()}),this.discard()},r.prototype.cache=function(e,s){this.caches[e]=s},r.prototype.clone=function(){return new r(this.ref,this.parent,this.root)},r.prototype.ensureRefId=function(){this.refId===void 0&&(this.refId=this.root.getNextUniqueId())},r.prototype.assertValidIndex=function(e,s){if(e===void 0)throw new Error('ChangeTree: missing index for field "'.concat(s,'"'))},r}();function $(r,e,s,c){return r[e]||(r[e]=[]),r[e].push(s),c==null||c.forEach(function(d,E){return s(d,E)}),function(){return k(r[e],r[e].indexOf(s))}}function x(r){var e=this,s=typeof this.$changes.getType()!="string";this.$items.forEach(function(c,d){r.push({refId:e.$changes.refId,op:o.OPERATION.DELETE,field:d,value:void 0,previousValue:c}),s&&e.$changes.root.removeRef(c.$changes.refId)})}function k(r,e){if(e===-1||e>=r.length)return!1;for(var s=r.length-1,c=e;c<s;c++)r[c]=r[c+1];return r.length=s,!0}var Q=function(r,e){var s=r.toString(),c=e.toString();return s<c?-1:s>c?1:0};function nt(r){return r.$proxy=!0,r=new Proxy(r,{get:function(e,s){return typeof s!="symbol"&&!isNaN(s)?e.at(s):e[s]},set:function(e,s,c){if(typeof s!="symbol"&&!isNaN(s)){var d=Array.from(e.$items.keys()),E=parseInt(d[s]||s);c==null?e.deleteAt(E):e.setAt(E,c)}else e[s]=c;return!0},deleteProperty:function(e,s){return typeof s=="number"?e.deleteAt(s):delete e[s],!0}}),r}var X=function(){function r(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];this.$changes=new S(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,e)}return r.prototype.onAdd=function(e,s){return s===void 0&&(s=!0),$(this.$callbacks||(this.$callbacks=[]),o.OPERATION.ADD,e,s?this.$items:void 0)},r.prototype.onRemove=function(e){return $(this.$callbacks||(this.$callbacks=[]),o.OPERATION.DELETE,e)},r.prototype.onChange=function(e){return $(this.$callbacks||(this.$callbacks=[]),o.OPERATION.REPLACE,e)},r.is=function(e){return Array.isArray(e)||e.array!==void 0},Object.defineProperty(r.prototype,"length",{get:function(){return this.$items.size},set:function(e){e===0?this.clear():this.splice(e,this.length-e)},enumerable:!1,configurable:!0}),r.prototype.push=function(){for(var e=this,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var d;return s.forEach(function(E){d=e.$refId++,e.setAt(d,E)}),d},r.prototype.pop=function(){var e=Array.from(this.$indexes.values()).pop();if(e!==void 0){this.$changes.delete(e),this.$indexes.delete(e);var s=this.$items.get(e);return this.$items.delete(e),s}},r.prototype.at=function(e){var s=Array.from(this.$items.keys())[e];return this.$items.get(s)},r.prototype.setAt=function(e,s){var c,d;if(s==null){console.error("ArraySchema items cannot be null nor undefined; Use `deleteAt(index)` instead.");return}if(this.$items.get(e)!==s){s.$changes!==void 0&&s.$changes.setParent(this,this.$changes.root,e);var E=(d=(c=this.$changes.indexes[e])===null||c===void 0?void 0:c.op)!==null&&d!==void 0?d:o.OPERATION.ADD;this.$changes.indexes[e]=e,this.$indexes.set(e,e),this.$items.set(e,s),this.$changes.change(e,E)}},r.prototype.deleteAt=function(e){var s=Array.from(this.$items.keys())[e];return s===void 0?!1:this.$deleteAt(s)},r.prototype.$deleteAt=function(e){return this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e)},r.prototype.clear=function(e){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&x.call(this,e),this.$items.clear(),this.$changes.operation({index:0,op:o.OPERATION.CLEAR}),this.$changes.touchParents()},r.prototype.concat=function(){for(var e,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return new(r.bind.apply(r,A([void 0],(e=Array.from(this.$items.values())).concat.apply(e,s),!1)))},r.prototype.join=function(e){return Array.from(this.$items.values()).join(e)},r.prototype.reverse=function(){var e=this,s=Array.from(this.$items.keys()),c=Array.from(this.$items.values()).reverse();return c.forEach(function(d,E){e.setAt(s[E],d)}),this},r.prototype.shift=function(){var e=Array.from(this.$items.keys()),s=e.shift();if(s!==void 0){var c=this.$items.get(s);return this.$deleteAt(s),c}},r.prototype.slice=function(e,s){var c=new r;return c.push.apply(c,Array.from(this.$items.values()).slice(e,s)),c},r.prototype.sort=function(e){var s=this;e===void 0&&(e=Q);var c=Array.from(this.$items.keys()),d=Array.from(this.$items.values()).sort(e);return d.forEach(function(E,C){s.setAt(c[C],E)}),this},r.prototype.splice=function(e,s){s===void 0&&(s=this.length-e);for(var c=Array.from(this.$items.keys()),d=[],E=e;E<e+s;E++)d.push(this.$items.get(c[E])),this.$deleteAt(c[E]);return d},r.prototype.unshift=function(){for(var e=this,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var d=this.length,E=s.length,C=Array.from(this.$items.values());return s.forEach(function(L,z){e.setAt(z,L)}),C.forEach(function(L,z){e.setAt(E+z,L)}),d+E},r.prototype.indexOf=function(e,s){return Array.from(this.$items.values()).indexOf(e,s)},r.prototype.lastIndexOf=function(e,s){return s===void 0&&(s=this.length-1),Array.from(this.$items.values()).lastIndexOf(e,s)},r.prototype.every=function(e,s){return Array.from(this.$items.values()).every(e,s)},r.prototype.some=function(e,s){return Array.from(this.$items.values()).some(e,s)},r.prototype.forEach=function(e,s){Array.from(this.$items.values()).forEach(e,s)},r.prototype.map=function(e,s){return Array.from(this.$items.values()).map(e,s)},r.prototype.filter=function(e,s){return Array.from(this.$items.values()).filter(e,s)},r.prototype.reduce=function(e,s){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},r.prototype.reduceRight=function(e,s){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},r.prototype.find=function(e,s){return Array.from(this.$items.values()).find(e,s)},r.prototype.findIndex=function(e,s){return Array.from(this.$items.values()).findIndex(e,s)},r.prototype.fill=function(e,s,c){throw new Error("ArraySchema#fill() not implemented")},r.prototype.copyWithin=function(e,s,c){throw new Error("ArraySchema#copyWithin() not implemented")},r.prototype.toString=function(){return this.$items.toString()},r.prototype.toLocaleString=function(){return this.$items.toLocaleString()},r.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},Object.defineProperty(r,Symbol.species,{get:function(){return r},enumerable:!1,configurable:!0}),r.prototype.entries=function(){return this.$items.entries()},r.prototype.keys=function(){return this.$items.keys()},r.prototype.values=function(){return this.$items.values()},r.prototype.includes=function(e,s){return Array.from(this.$items.values()).includes(e,s)},r.prototype.flatMap=function(e,s){throw new Error("ArraySchema#flatMap() is not supported.")},r.prototype.flat=function(e){throw new Error("ArraySchema#flat() is not supported.")},r.prototype.findLast=function(){var e=Array.from(this.$items.values());return e.findLast.apply(e,arguments)},r.prototype.findLastIndex=function(){var e=Array.from(this.$items.values());return e.findLastIndex.apply(e,arguments)},r.prototype.setIndex=function(e,s){this.$indexes.set(e,s)},r.prototype.getIndex=function(e){return this.$indexes.get(e)},r.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},r.prototype.deleteByIndex=function(e){var s=this.$indexes.get(e);this.$items.delete(s),this.$indexes.delete(e)},r.prototype.toArray=function(){return Array.from(this.$items.values())},r.prototype.toJSON=function(){return this.toArray().map(function(e){return typeof e.toJSON=="function"?e.toJSON():e})},r.prototype.clone=function(e){var s;return e?s=new(r.bind.apply(r,A([void 0],Array.from(this.$items.values()),!1))):s=new(r.bind.apply(r,A([void 0],this.map(function(c){return c.$changes?c.clone():c}),!1))),s},r}();function ce(r){return r.$proxy=!0,r=new Proxy(r,{get:function(e,s){return typeof s!="symbol"&&typeof e[s]>"u"?e.get(s):e[s]},set:function(e,s,c){return typeof s!="symbol"&&s.indexOf("$")===-1&&s!=="onAdd"&&s!=="onRemove"&&s!=="onChange"?e.set(s,c):e[s]=c,!0},deleteProperty:function(e,s){return e.delete(s),!0}}),r}var ut=function(){function r(e){var s=this;if(this.$changes=new S(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e)if(e instanceof Map||e instanceof r)e.forEach(function(d,E){return s.set(E,d)});else for(var c in e)this.set(c,e[c])}return r.prototype.onAdd=function(e,s){return s===void 0&&(s=!0),$(this.$callbacks||(this.$callbacks=[]),o.OPERATION.ADD,e,s?this.$items:void 0)},r.prototype.onRemove=function(e){return $(this.$callbacks||(this.$callbacks=[]),o.OPERATION.DELETE,e)},r.prototype.onChange=function(e){return $(this.$callbacks||(this.$callbacks=[]),o.OPERATION.REPLACE,e)},r.is=function(e){return e.map!==void 0},r.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(r.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),Object.defineProperty(r,Symbol.species,{get:function(){return r},enumerable:!1,configurable:!0}),r.prototype.set=function(e,s){if(s==null)throw new Error("MapSchema#set('".concat(e,"', ").concat(s,"): trying to set ").concat(s," value on '").concat(e,"'."));e=e.toString();var c=typeof this.$changes.indexes[e]<"u",d=c?this.$changes.indexes[e]:this.$refId++,E=c?o.OPERATION.REPLACE:o.OPERATION.ADD,C=s.$changes!==void 0;if(C&&s.$changes.setParent(this,this.$changes.root,d),!c)this.$changes.indexes[e]=d,this.$indexes.set(d,e);else{if(!C&&this.$items.get(e)===s)return;C&&this.$items.get(e)!==s&&(E=o.OPERATION.ADD)}return this.$items.set(e,s),this.$changes.change(e,E),this},r.prototype.get=function(e){return this.$items.get(e)},r.prototype.delete=function(e){return this.$changes.delete(e),this.$items.delete(e)},r.prototype.clear=function(e){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&x.call(this,e),this.$items.clear(),this.$changes.operation({index:0,op:o.OPERATION.CLEAR}),this.$changes.touchParents()},r.prototype.has=function(e){return this.$items.has(e)},r.prototype.forEach=function(e){this.$items.forEach(e)},r.prototype.entries=function(){return this.$items.entries()},r.prototype.keys=function(){return this.$items.keys()},r.prototype.values=function(){return this.$items.values()},Object.defineProperty(r.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),r.prototype.setIndex=function(e,s){this.$indexes.set(e,s)},r.prototype.getIndex=function(e){return this.$indexes.get(e)},r.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},r.prototype.deleteByIndex=function(e){var s=this.$indexes.get(e);this.$items.delete(s),this.$indexes.delete(e)},r.prototype.toJSON=function(){var e={};return this.forEach(function(s,c){e[c]=typeof s.toJSON=="function"?s.toJSON():s}),e},r.prototype.clone=function(e){var s;return e?s=Object.assign(new r,this):(s=new r,this.forEach(function(c,d){c.$changes?s.set(d,c.clone()):s.set(d,c)})),s},r}(),Ct={};function Ot(r,e){Ct[r]=e}function Ft(r){return Ct[r]}var cn=function(){function r(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return r.create=function(e){var s=new r;return s.schema=Object.assign({},e&&e.schema||{}),s.indexes=Object.assign({},e&&e.indexes||{}),s.fieldsByIndex=Object.assign({},e&&e.fieldsByIndex||{}),s.descriptors=Object.assign({},e&&e.descriptors||{}),s.deprecated=Object.assign({},e&&e.deprecated||{}),s},r.prototype.addField=function(e,s){var c=this.getNextFieldIndex();this.fieldsByIndex[c]=e,this.indexes[e]=c,this.schema[e]=Array.isArray(s)?{array:s[0]}:s},r.prototype.hasField=function(e){return this.indexes[e]!==void 0},r.prototype.addFilter=function(e,s){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[e]]=s,this.indexesWithFilters.push(this.indexes[e]),!0},r.prototype.addChildrenFilter=function(e,s){var c=this.indexes[e],d=this.schema[e];if(Ft(Object.keys(d)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[c]=s,!0;console.warn("@filterChildren: field '".concat(e,"' can't have children. Ignoring filter."))},r.prototype.getChildrenFilter=function(e){return this.childFilters&&this.childFilters[this.indexes[e]]},r.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},r}();function Nt(r){return r._context&&r._context.useFilters}var vt=function(){function r(){this.types={},this.schemas=new Map,this.useFilters=!1}return r.prototype.has=function(e){return this.schemas.has(e)},r.prototype.get=function(e){return this.types[e]},r.prototype.add=function(e,s){s===void 0&&(s=this.schemas.size),e._definition=cn.create(e._definition),e._typeid=s,this.types[s]=e,this.schemas.set(e,s)},r.create=function(e){return e===void 0&&(e={}),function(s){return e.context||(e.context=new r),wt(s,e)}},r}(),Et=new vt;function wt(r,e){return e===void 0&&(e={}),function(s,c){var d=e.context||Et,E=s.constructor;if(E._context=d,!r)throw new Error("".concat(E.name,': @type() reference provided for "').concat(c,`" is undefined. Make sure you don't have any circular dependencies.`));d.has(E)||d.add(E);var C=E._definition;if(C.addField(c,r),C.descriptors[c]){if(C.deprecated[c])return;try{throw new Error("@colyseus/schema: Duplicate '".concat(c,"' definition on '").concat(E.name,`'.
Check @type() annotation`))}catch(P){var L=P.stack.split(`
`)[4].trim();throw new Error("".concat(P.message," ").concat(L))}}var z=X.is(r),V=!z&&ut.is(r);if(typeof r!="string"&&!yt.is(r)){var R=Object.values(r)[0];typeof R!="string"&&!d.has(R)&&d.add(R)}if(e.manual){C.descriptors[c]={enumerable:!0,configurable:!0,writable:!0};return}var K="_".concat(c);C.descriptors[K]={enumerable:!1,configurable:!1,writable:!0},C.descriptors[c]={get:function(){return this[K]},set:function(P){P!==this[K]&&(P!=null?(z&&!(P instanceof X)&&(P=new(X.bind.apply(X,A([void 0],P,!1)))),V&&!(P instanceof ut)&&(P=new ut(P)),P.$proxy===void 0&&(V?P=ce(P):z&&(P=nt(P))),this.$changes.change(c),P.$changes&&P.$changes.setParent(this,this.$changes.root,this._definition.indexes[c])):this[K]&&this.$changes.delete(c),this[K]=P)},enumerable:!0,configurable:!0}}}function ln(r){return function(e,s){var c=e.constructor,d=c._definition;d.addFilter(s,r)&&(c._context.useFilters=!0)}}function vi(r){return function(e,s){var c=e.constructor,d=c._definition;d.addChildrenFilter(s,r)&&(c._context.useFilters=!0)}}function Ei(r){return r===void 0&&(r=!0),function(e,s){var c=e.constructor,d=c._definition;d.deprecated[s]=!0,r&&(d.descriptors[s]={get:function(){throw new Error("".concat(s," is deprecated."))},set:function(E){},enumerable:!1,configurable:!0})}}function Ai(r,e,s){s===void 0&&(s={}),s.context||(s.context=r._context||s.context||Et);for(var c in e)wt(e[c],s)(r.prototype,c);return r}function fn(r){for(var e=0,s=0,c=0,d=r.length;c<d;c++)e=r.charCodeAt(c),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(c++,s+=4);return s}function un(r,e,s){for(var c=0,d=0,E=s.length;d<E;d++)c=s.charCodeAt(d),c<128?r[e++]=c:c<2048?(r[e++]=192|c>>6,r[e++]=128|c&63):c<55296||c>=57344?(r[e++]=224|c>>12,r[e++]=128|c>>6&63,r[e++]=128|c&63):(d++,c=65536+((c&1023)<<10|s.charCodeAt(d)&1023),r[e++]=240|c>>18,r[e++]=128|c>>12&63,r[e++]=128|c>>6&63,r[e++]=128|c&63)}function hn(r,e){r.push(e&255)}function At(r,e){r.push(e&255)}function dn(r,e){r.push(e&255),r.push(e>>8&255)}function ke(r,e){r.push(e&255),r.push(e>>8&255)}function me(r,e){r.push(e&255),r.push(e>>8&255),r.push(e>>16&255),r.push(e>>24&255)}function ie(r,e){var s=e>>24,c=e>>16,d=e>>8,E=e;r.push(E&255),r.push(d&255),r.push(c&255),r.push(s&255)}function pn(r,e){var s=Math.floor(e/Math.pow(2,32)),c=e>>>0;ie(r,c),ie(r,s)}function _n(r,e){var s=e/Math.pow(2,32)>>0,c=e>>>0;ie(r,c),ie(r,s)}function kn(r,e){je(r,e)}function gn(r,e){He(r,e)}var ve=new Int32Array(2),jn=new Float32Array(ve.buffer),y=new Float64Array(ve.buffer);function je(r,e){jn[0]=e,me(r,ve[0])}function He(r,e){y[0]=e,me(r,ve[0]),me(r,ve[1])}function mn(r,e){return At(r,e?1:0)}function Rt(r,e){e||(e="");var s=fn(e),c=0;if(s<32)r.push(s|160),c=1;else if(s<256)r.push(217),At(r,s),c=2;else if(s<65536)r.push(218),ke(r,s),c=3;else if(s<4294967296)r.push(219),ie(r,s),c=5;else throw new Error("String too long");return un(r,r.length,e),c+s}function ht(r,e){if(isNaN(e))return ht(r,0);if(isFinite(e)){if(e!==(e|0))return r.push(203),He(r,e),9}else return ht(r,e>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER);return e>=0?e<128?(At(r,e),1):e<256?(r.push(204),At(r,e),2):e<65536?(r.push(205),ke(r,e),3):e<4294967296?(r.push(206),ie(r,e),5):(r.push(207),_n(r,e),9):e>=-32?(r.push(224|e+32),1):e>=-128?(r.push(208),hn(r,e),2):e>=-32768?(r.push(209),dn(r,e),3):e>=-2147483648?(r.push(210),me(r,e),5):(r.push(211),pn(r,e),9)}var vn=Object.freeze({__proto__:null,utf8Write:un,int8:hn,uint8:At,int16:dn,uint16:ke,int32:me,uint32:ie,int64:pn,uint64:_n,float32:kn,float64:gn,writeFloat32:je,writeFloat64:He,boolean:mn,string:Rt,number:ht});function Lt(r,e,s){for(var c="",d=0,E=e,C=e+s;E<C;E++){var L=r[E];if(!(L&128)){c+=String.fromCharCode(L);continue}if((L&224)===192){c+=String.fromCharCode((L&31)<<6|r[++E]&63);continue}if((L&240)===224){c+=String.fromCharCode((L&15)<<12|(r[++E]&63)<<6|(r[++E]&63)<<0);continue}if((L&248)===240){d=(L&7)<<18|(r[++E]&63)<<12|(r[++E]&63)<<6|(r[++E]&63)<<0,d>=65536?(d-=65536,c+=String.fromCharCode((d>>>10)+55296,(d&1023)+56320)):c+=String.fromCharCode(d);continue}console.error("Invalid byte "+L.toString(16))}return c}function Ve(r,e){return N(r,e)<<24>>24}function N(r,e){return r[e.offset++]}function Ee(r,e){return Fe(r,e)<<16>>16}function Fe(r,e){return r[e.offset++]|r[e.offset++]<<8}function le(r,e){return r[e.offset++]|r[e.offset++]<<8|r[e.offset++]<<16|r[e.offset++]<<24}function re(r,e){return le(r,e)>>>0}function yi(r,e){return En(r,e)}function bi(r,e){return An(r,e)}function Hn(r,e){var s=re(r,e),c=le(r,e)*Math.pow(2,32);return c+s}function Vn(r,e){var s=re(r,e),c=re(r,e)*Math.pow(2,32);return c+s}var zt=new Int32Array(2),Ti=new Float32Array(zt.buffer),Tr=new Float64Array(zt.buffer);function En(r,e){return zt[0]=le(r,e),Ti[0]}function An(r,e){return zt[0]=le(r,e),zt[1]=le(r,e),Tr[0]}function Oi(r,e){return N(r,e)>0}function yn(r,e){var s=r[e.offset++],c;s<192?c=s&31:s===217?c=N(r,e):s===218?c=Fe(r,e):s===219&&(c=re(r,e));var d=Lt(r,e.offset,c);return e.offset+=c,d}function wi(r,e){var s=r[e.offset];return s<192&&s>160||s===217||s===218||s===219}function Pt(r,e){var s=r[e.offset++];if(s<128)return s;if(s===202)return En(r,e);if(s===203)return An(r,e);if(s===204)return N(r,e);if(s===205)return Fe(r,e);if(s===206)return re(r,e);if(s===207)return Vn(r,e);if(s===208)return Ve(r,e);if(s===209)return Ee(r,e);if(s===210)return le(r,e);if(s===211)return Hn(r,e);if(s>223)return(255-s+1)*-1}function $i(r,e){var s=r[e.offset];return s<128||s>=202&&s<=211}function fe(r,e){return r[e.offset]<160}function Fn(r,e){return r[e.offset-1]===O&&(r[e.offset]<128||r[e.offset]>=202&&r[e.offset]<=211)}var Bn=Object.freeze({__proto__:null,int8:Ve,uint8:N,int16:Ee,uint16:Fe,int32:le,uint32:re,float32:yi,float64:bi,int64:Hn,uint64:Vn,readFloat32:En,readFloat64:An,boolean:Oi,string:yn,stringCheck:wi,number:Pt,numberCheck:$i,arrayCheck:fe,switchStructureCheck:Fn}),bn=function(){function r(e){var s=this;this.$changes=new S(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach(function(c){return s.add(c)})}return r.prototype.onAdd=function(e,s){return s===void 0&&(s=!0),$(this.$callbacks||(this.$callbacks=[]),o.OPERATION.ADD,e,s?this.$items:void 0)},r.prototype.onRemove=function(e){return $(this.$callbacks||(this.$callbacks=[]),o.OPERATION.DELETE,e)},r.prototype.onChange=function(e){return $(this.$callbacks||(this.$callbacks=[]),o.OPERATION.REPLACE,e)},r.is=function(e){return e.collection!==void 0},r.prototype.add=function(e){var s=this.$refId++,c=e.$changes!==void 0;return c&&e.$changes.setParent(this,this.$changes.root,s),this.$changes.indexes[s]=s,this.$indexes.set(s,s),this.$items.set(s,e),this.$changes.change(s),s},r.prototype.at=function(e){var s=Array.from(this.$items.keys())[e];return this.$items.get(s)},r.prototype.entries=function(){return this.$items.entries()},r.prototype.delete=function(e){for(var s=this.$items.entries(),c,d;(d=s.next())&&!d.done;)if(e===d.value[1]){c=d.value[0];break}return c===void 0?!1:(this.$changes.delete(c),this.$indexes.delete(c),this.$items.delete(c))},r.prototype.clear=function(e){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&x.call(this,e),this.$items.clear(),this.$changes.operation({index:0,op:o.OPERATION.CLEAR}),this.$changes.touchParents()},r.prototype.has=function(e){return Array.from(this.$items.values()).some(function(s){return s===e})},r.prototype.forEach=function(e){var s=this;this.$items.forEach(function(c,d,E){return e(c,d,s)})},r.prototype.values=function(){return this.$items.values()},Object.defineProperty(r.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),r.prototype.setIndex=function(e,s){this.$indexes.set(e,s)},r.prototype.getIndex=function(e){return this.$indexes.get(e)},r.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},r.prototype.deleteByIndex=function(e){var s=this.$indexes.get(e);this.$items.delete(s),this.$indexes.delete(e)},r.prototype.toArray=function(){return Array.from(this.$items.values())},r.prototype.toJSON=function(){var e=[];return this.forEach(function(s,c){e.push(typeof s.toJSON=="function"?s.toJSON():s)}),e},r.prototype.clone=function(e){var s;return e?s=Object.assign(new r,this):(s=new r,this.forEach(function(c){c.$changes?s.add(c.clone()):s.add(c)})),s},r}(),Tn=function(){function r(e){var s=this;this.$changes=new S(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach(function(c){return s.add(c)})}return r.prototype.onAdd=function(e,s){return s===void 0&&(s=!0),$(this.$callbacks||(this.$callbacks=[]),o.OPERATION.ADD,e,s?this.$items:void 0)},r.prototype.onRemove=function(e){return $(this.$callbacks||(this.$callbacks=[]),o.OPERATION.DELETE,e)},r.prototype.onChange=function(e){return $(this.$callbacks||(this.$callbacks=[]),o.OPERATION.REPLACE,e)},r.is=function(e){return e.set!==void 0},r.prototype.add=function(e){var s,c;if(this.has(e))return!1;var d=this.$refId++;e.$changes!==void 0&&e.$changes.setParent(this,this.$changes.root,d);var E=(c=(s=this.$changes.indexes[d])===null||s===void 0?void 0:s.op)!==null&&c!==void 0?c:o.OPERATION.ADD;return this.$changes.indexes[d]=d,this.$indexes.set(d,d),this.$items.set(d,e),this.$changes.change(d,E),d},r.prototype.entries=function(){return this.$items.entries()},r.prototype.delete=function(e){for(var s=this.$items.entries(),c,d;(d=s.next())&&!d.done;)if(e===d.value[1]){c=d.value[0];break}return c===void 0?!1:(this.$changes.delete(c),this.$indexes.delete(c),this.$items.delete(c))},r.prototype.clear=function(e){this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),e&&x.call(this,e),this.$items.clear(),this.$changes.operation({index:0,op:o.OPERATION.CLEAR}),this.$changes.touchParents()},r.prototype.has=function(e){for(var s=this.$items.values(),c=!1,d;(d=s.next())&&!d.done;)if(e===d.value){c=!0;break}return c},r.prototype.forEach=function(e){var s=this;this.$items.forEach(function(c,d,E){return e(c,d,s)})},r.prototype.values=function(){return this.$items.values()},Object.defineProperty(r.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),r.prototype.setIndex=function(e,s){this.$indexes.set(e,s)},r.prototype.getIndex=function(e){return this.$indexes.get(e)},r.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},r.prototype.deleteByIndex=function(e){var s=this.$indexes.get(e);this.$items.delete(s),this.$indexes.delete(e)},r.prototype.toArray=function(){return Array.from(this.$items.values())},r.prototype.toJSON=function(){var e=[];return this.forEach(function(s,c){e.push(typeof s.toJSON=="function"?s.toJSON():s)}),e},r.prototype.clone=function(e){var s;return e?s=Object.assign(new r,this):(s=new r,this.forEach(function(c){c.$changes?s.add(c.clone()):s.add(c)})),s},r}(),Si=function(){function r(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return r.prototype.addRefId=function(e){this.refIds.has(e)||(this.refIds.add(e),this.containerIndexes.set(e,new Set))},r.get=function(e){return e.$filterState===void 0&&(e.$filterState=new r),e.$filterState},r}(),Ci=function(){function r(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return r.prototype.getNextUniqueId=function(){return this.nextUniqueId++},r.prototype.addRef=function(e,s,c){c===void 0&&(c=!0),this.refs.set(e,s),c&&(this.refCounts[e]=(this.refCounts[e]||0)+1)},r.prototype.removeRef=function(e){this.refCounts[e]=this.refCounts[e]-1,this.deletedRefs.add(e)},r.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},r.prototype.garbageCollectDeletedRefs=function(){var e=this;this.deletedRefs.forEach(function(s){if(!(e.refCounts[s]>0)){var c=e.refs.get(s);if(c instanceof yt)for(var d in c._definition.schema)typeof c._definition.schema[d]!="string"&&c[d]&&c[d].$changes&&e.removeRef(c[d].$changes.refId);else{var E=c.$changes.parent._definition,C=E.schema[E.fieldsByIndex[c.$changes.parentIndex]];typeof Object.values(C)[0]=="function"&&Array.from(c.values()).forEach(function(L){return e.removeRef(L.$changes.refId)})}e.refs.delete(s),delete e.refCounts[s]}}),this.deletedRefs.clear()},r}(),On=function(r){p(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Error);function xi(r,e,s,c){var d,E=!1;switch(e){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":d="number",isNaN(r)&&console.log('trying to encode "NaN" in '.concat(s.constructor.name,"#").concat(c));break;case"string":d="string",E=!0;break;case"boolean":return}if(typeof r!==d&&(!E||E&&r!==null)){var C="'".concat(JSON.stringify(r),"'").concat(r&&r.constructor&&" (".concat(r.constructor.name,")")||"");throw new On("a '".concat(d,"' was expected, but ").concat(C," was provided in ").concat(s.constructor.name,"#").concat(c))}}function Un(r,e,s,c){if(!(r instanceof e))throw new On("a '".concat(e.name,"' was expected, but '").concat(r.constructor.name,"' was provided in ").concat(s.constructor.name,"#").concat(c))}function Di(r,e,s,c,d){xi(s,r,c,d);var E=vn[r];if(E)E(e,s);else throw new On("a '".concat(r,"' was expected, but ").concat(s," was provided in ").concat(c.constructor.name,"#").concat(d))}function Ii(r,e,s){return Bn[r](e,s)}var yt=function(){function r(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];Object.defineProperties(this,{$changes:{value:new S(this,void 0,new Ci),enumerable:!1,writable:!0},$callbacks:{value:void 0,enumerable:!1,writable:!0}});var c=this._definition.descriptors;c&&Object.defineProperties(this,c),e[0]&&this.assign(e[0])}return r.onError=function(e){console.error(e)},r.is=function(e){return e._definition&&e._definition.schema!==void 0},r.prototype.onChange=function(e){return $(this.$callbacks||(this.$callbacks=[]),o.OPERATION.REPLACE,e)},r.prototype.onRemove=function(e){return $(this.$callbacks||(this.$callbacks=[]),o.OPERATION.DELETE,e)},r.prototype.assign=function(e){return Object.assign(this,e),this},Object.defineProperty(r.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),r.prototype.setDirty=function(e,s){this.$changes.change(e,s)},r.prototype.listen=function(e,s,c){var d=this;return c===void 0&&(c=!0),this.$callbacks||(this.$callbacks={}),this.$callbacks[e]||(this.$callbacks[e]=[]),this.$callbacks[e].push(s),c&&this[e]!==void 0&&s(this[e],void 0),function(){return k(d.$callbacks[e],d.$callbacks[e].indexOf(s))}},r.prototype.decode=function(e,s,c){var d;s===void 0&&(s={offset:0}),c===void 0&&(c=this);var E=[],C=this.$changes.root,L=e.length,z=0;for(C.refs.set(z,this);s.offset<L;){var V=e[s.offset++];if(V==O){z=Pt(e,s);var R=C.refs.get(z);if(!R)throw new Error('"refId" not found: '.concat(z));c=R;continue}var K=c.$changes,P=c._definition!==void 0,F=P?V>>6<<6:V;if(F===o.OPERATION.CLEAR){c.clear(E);continue}var M=P?V%(F||255):Pt(e,s),j=P?c._definition.fieldsByIndex[M]:"",D=K.getType(M),B=void 0,Z=void 0,st=void 0;if(P?Z=c["_".concat(j)]:(Z=c.getByIndex(M),(F&o.OPERATION.ADD)===o.OPERATION.ADD?(st=c instanceof ut?yn(e,s):M,c.setIndex(M,st)):st=c.getIndex(M)),(F&o.OPERATION.DELETE)===o.OPERATION.DELETE&&(F!==o.OPERATION.DELETE_AND_ADD&&c.deleteByIndex(M),Z&&Z.$changes&&C.removeRef(Z.$changes.refId),B=null),j===void 0){console.warn("@colyseus/schema: definition mismatch");for(var G={offset:s.offset};s.offset<L&&!(Fn(e,s)&&(G.offset=s.offset+1,C.refs.has(Pt(e,G))));)s.offset++;continue}else if(F!==o.OPERATION.DELETE)if(r.is(D)){var U=Pt(e,s);if(B=C.refs.get(U),F!==o.OPERATION.REPLACE){var Kt=this.getSchemaType(e,s,D);B||(B=this.createTypeInstance(Kt),B.$changes.refId=U,Z&&(B.$callbacks=Z.$callbacks,Z.$changes.refId&&U!==Z.$changes.refId&&C.removeRef(Z.$changes.refId))),C.addRef(U,B,B!==Z)}}else if(typeof D=="string")B=Ii(D,e,s);else{var wn=Ft(Object.keys(D)[0]),bt=Pt(e,s),dt=C.refs.has(bt)?Z||C.refs.get(bt):new wn.constructor;if(B=dt.clone(!0),B.$changes.refId=bt,Z&&(B.$callbacks=Z.$callbacks,Z.$changes.refId&&bt!==Z.$changes.refId)){C.removeRef(Z.$changes.refId);for(var _t=Z.entries(),Ae=void 0;(Ae=_t.next())&&!Ae.done;){var Yt=(d=Ae.value,d[0]),$n=d[1];E.push({refId:bt,op:o.OPERATION.DELETE,field:Yt,value:void 0,previousValue:$n})}}C.addRef(bt,B,dt!==Z)}if(B!=null){if(B.$changes&&B.$changes.setParent(K.ref,K.root,M),c instanceof r)c[j]=B;else if(c instanceof ut){var Yt=st;c.$items.set(Yt,B),c.$changes.allChanges.add(M)}else if(c instanceof X)c.setAt(M,B);else if(c instanceof bn){var Zt=c.add(B);c.setIndex(M,Zt)}else if(c instanceof Tn){var Zt=c.add(B);Zt!==!1&&c.setIndex(M,Zt)}}Z!==B&&E.push({refId:z,op:F,field:j,dynamicIndex:st,value:B,previousValue:Z})}return this._triggerChanges(E),C.garbageCollectDeletedRefs(),E},r.prototype.encode=function(e,s,c){e===void 0&&(e=!1),s===void 0&&(s=[]),c===void 0&&(c=!1);for(var d=this.$changes,E=new WeakSet,C=[d],L=1,z=0;z<L;z++){var V=C[z],R=V.ref,K=R instanceof r;V.ensureRefId(),E.add(V),V!==d&&(V.changed||e)&&(At(s,O),ht(s,V.refId));for(var P=e?Array.from(V.allChanges):Array.from(V.changes.values()),F=0,M=P.length;F<M;F++){var j=e?{op:o.OPERATION.ADD,index:P[F]}:P[F],D=j.index,B=K?R._definition.fieldsByIndex&&R._definition.fieldsByIndex[D]:D,Z=s.length;if(j.op!==o.OPERATION.TOUCH)if(K)At(s,D|j.op);else{if(At(s,j.op),j.op===o.OPERATION.CLEAR)continue;ht(s,D)}if(!K&&(j.op&o.OPERATION.ADD)==o.OPERATION.ADD&&R instanceof ut){var st=V.ref.$indexes.get(D);Rt(s,st)}if(j.op!==o.OPERATION.DELETE){var G=V.getType(D),U=V.getValue(D);if(U&&U.$changes&&!E.has(U.$changes)&&(C.push(U.$changes),U.$changes.ensureRefId(),L++),j.op!==o.OPERATION.TOUCH){if(r.is(G))Un(U,G,R,B),ht(s,U.$changes.refId),(j.op&o.OPERATION.ADD)===o.OPERATION.ADD&&this.tryEncodeTypeId(s,G,U.constructor);else if(typeof G=="string")Di(G,s,U,R,B);else{var Kt=Ft(Object.keys(G)[0]);Un(R["_".concat(B)],Kt.constructor,R,B),ht(s,U.$changes.refId)}c&&V.cache(D,s.slice(Z))}}}!e&&!c&&V.discard()}return s},r.prototype.encodeAll=function(e){return this.encode(!0,[],e)},r.prototype.applyFilters=function(e,s){var c,d;s===void 0&&(s=!1);for(var E=this,C=new Set,L=Si.get(e),z=[this.$changes],V=1,R=[],K=function(F){var M=z[F];if(C.has(M.refId))return"continue";var j=M.ref,D=j instanceof r;At(R,O),ht(R,M.refId);var B=L.refIds.has(M),Z=s||!B;L.addRefId(M);var st=L.containerIndexes.get(M),G=Z?Array.from(M.allChanges):Array.from(M.changes.values());if(!s&&D&&j._definition.indexesWithFilters){var U=j._definition.indexesWithFilters;U.forEach(function(qt){!st.has(qt)&&M.allChanges.has(qt)&&(Z?G.push(qt):G.push({op:o.OPERATION.ADD,index:qt}))})}for(var Kt=0,wn=G.length;Kt<wn;Kt++){var bt=Z?{op:o.OPERATION.ADD,index:G[Kt]}:G[Kt];if(bt.op===o.OPERATION.CLEAR){At(R,bt.op);continue}var dt=bt.index;if(bt.op===o.OPERATION.DELETE){D?At(R,bt.op|dt):(At(R,bt.op),ht(R,dt));continue}var _t=M.getValue(dt),Ae=M.getType(dt);if(D){var Yt=j._definition.filters&&j._definition.filters[dt];if(Yt&&!Yt.call(j,e,_t,E)){_t&&_t.$changes&&C.add(_t.$changes.refId);continue}}else{var $n=M.parent,Yt=M.getChildrenFilter();if(Yt&&!Yt.call($n,e,j.$indexes.get(dt),_t,E)){_t&&_t.$changes&&C.add(_t.$changes.refId);continue}}if(_t.$changes&&(z.push(_t.$changes),V++),bt.op!==o.OPERATION.TOUCH)if(bt.op===o.OPERATION.ADD||D)R.push.apply(R,(c=M.caches[dt])!==null&&c!==void 0?c:[]),st.add(dt);else if(st.has(dt))R.push.apply(R,(d=M.caches[dt])!==null&&d!==void 0?d:[]);else{if(st.add(dt),At(R,o.OPERATION.ADD),ht(R,dt),j instanceof ut){var Zt=M.ref.$indexes.get(dt);Rt(R,Zt)}_t.$changes?ht(R,_t.$changes.refId):vn[Ae](R,_t)}else if(_t.$changes&&!D){if(At(R,o.OPERATION.ADD),ht(R,dt),j instanceof ut){var Zt=M.ref.$indexes.get(dt);Rt(R,Zt)}ht(R,_t.$changes.refId)}}},P=0;P<V;P++)K(P);return R},r.prototype.clone=function(){var e,s=new this.constructor,c=this._definition.schema;for(var d in c)typeof this[d]=="object"&&typeof((e=this[d])===null||e===void 0?void 0:e.clone)=="function"?s[d]=this[d].clone():s[d]=this[d];return s},r.prototype.toJSON=function(){var e=this._definition.schema,s=this._definition.deprecated,c={};for(var d in e)!s[d]&&this[d]!==null&&typeof this[d]<"u"&&(c[d]=typeof this[d].toJSON=="function"?this[d].toJSON():this["_".concat(d)]);return c},r.prototype.discardAllChanges=function(){this.$changes.discardAll()},r.prototype.getByIndex=function(e){return this[this._definition.fieldsByIndex[e]]},r.prototype.deleteByIndex=function(e){this[this._definition.fieldsByIndex[e]]=void 0},r.prototype.tryEncodeTypeId=function(e,s,c){s._typeid!==c._typeid&&(At(e,T),ht(e,c._typeid))},r.prototype.getSchemaType=function(e,s,c){var d;return e[s.offset]===T&&(s.offset++,d=this.constructor._context.get(Pt(e,s))),d||c},r.prototype.createTypeInstance=function(e){var s=new e;return s.$changes.root=this.$changes.root,s},r.prototype._triggerChanges=function(e){for(var s,c,d,E,C,L,z,V,R,K=new Set,P=this.$changes.root.refs,F=function(j){var D=e[j],B=D.refId,Z=P.get(B),st=Z.$callbacks;if((D.op&o.OPERATION.DELETE)===o.OPERATION.DELETE&&D.previousValue instanceof r&&((c=(s=D.previousValue.$callbacks)===null||s===void 0?void 0:s[o.OPERATION.DELETE])===null||c===void 0||c.forEach(function(G){return G()})),!st)return"continue";if(Z instanceof r){if(!K.has(B))try{(d=st==null?void 0:st[o.OPERATION.REPLACE])===null||d===void 0||d.forEach(function(G){return G()})}catch(G){r.onError(G)}try{st.hasOwnProperty(D.field)&&((E=st[D.field])===null||E===void 0||E.forEach(function(G){return G(D.value,D.previousValue)}))}catch(G){r.onError(G)}}else D.op===o.OPERATION.ADD&&D.previousValue===void 0?(C=st[o.OPERATION.ADD])===null||C===void 0||C.forEach(function(G){var U;return G(D.value,(U=D.dynamicIndex)!==null&&U!==void 0?U:D.field)}):D.op===o.OPERATION.DELETE?D.previousValue!==void 0&&((L=st[o.OPERATION.DELETE])===null||L===void 0||L.forEach(function(G){var U;return G(D.previousValue,(U=D.dynamicIndex)!==null&&U!==void 0?U:D.field)})):D.op===o.OPERATION.DELETE_AND_ADD&&(D.previousValue!==void 0&&((z=st[o.OPERATION.DELETE])===null||z===void 0||z.forEach(function(G){var U;return G(D.previousValue,(U=D.dynamicIndex)!==null&&U!==void 0?U:D.field)})),(V=st[o.OPERATION.ADD])===null||V===void 0||V.forEach(function(G){var U;return G(D.value,(U=D.dynamicIndex)!==null&&U!==void 0?U:D.field)})),D.value!==D.previousValue&&((R=st[o.OPERATION.REPLACE])===null||R===void 0||R.forEach(function(G){var U;return G(D.value,(U=D.dynamicIndex)!==null&&U!==void 0?U:D.field)}));K.add(B)},M=0;M<e.length;M++)F(M)},r._definition=cn.create(),r}();function Ni(r){for(var e=[r.$changes],s=1,c={},d=c,E=function(L){var z=e[L];z.changes.forEach(function(V){var R=z.ref,K=V.index,P=R._definition?R._definition.fieldsByIndex[K]:R.$indexes.get(K);d[P]=z.getValue(K)})},C=0;C<s;C++)E(C);return c}var ue={context:new vt},Bt=function(r){p(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return m([wt("string",ue)],e.prototype,"name",void 0),m([wt("string",ue)],e.prototype,"type",void 0),m([wt("number",ue)],e.prototype,"referencedType",void 0),e}(yt),Be=function(r){p(e,r);function e(){var s=r!==null&&r.apply(this,arguments)||this;return s.fields=new X,s}return m([wt("number",ue)],e.prototype,"id",void 0),m([wt([Bt],ue)],e.prototype,"fields",void 0),e}(yt),Ri=function(r){p(e,r);function e(){var s=r!==null&&r.apply(this,arguments)||this;return s.types=new X,s}return e.encode=function(s){var c=s.constructor,d=new e;d.rootType=c._typeid;var E=function(V,R){for(var K in R){var P=new Bt;P.name=K;var F=void 0;if(typeof R[K]=="string")F=R[K];else{var M=R[K],j=void 0;yt.is(M)?(F="ref",j=R[K]):(F=Object.keys(M)[0],typeof M[F]=="string"?F+=":"+M[F]:j=M[F]),P.referencedType=j?j._typeid:-1}P.type=F,V.fields.push(P)}d.types.push(V)},C=c._context.types;for(var L in C){var z=new Be;z.id=Number(L),E(z,C[L]._definition.schema)}return d.encodeAll()},e.decode=function(s,c){var d=new vt,E=new e;E.decode(s,c);var C=E.types.reduce(function(K,P){var F=function(j){p(D,j);function D(){return j!==null&&j.apply(this,arguments)||this}return D}(yt),M=P.id;return K[M]=F,d.add(F,M),K},{});E.types.forEach(function(K){var P=C[K.id];K.fields.forEach(function(F){var M;if(F.referencedType!==void 0){var j=F.type,D=C[F.referencedType];if(!D){var B=F.type.split(":");j=B[0],D=B[1]}j==="ref"?wt(D,{context:d})(P.prototype,F.name):wt((M={},M[j]=D,M),{context:d})(P.prototype,F.name)}else wt(F.type,{context:d})(P.prototype,F.name)})});var L=C[E.rootType],z=new L;for(var V in L._definition.schema){var R=L._definition.schema[V];typeof R!="string"&&(z[V]=typeof R=="function"?new R:new(Ft(Object.keys(R)[0])).constructor)}return z},m([wt([Be],ue)],e.prototype,"types",void 0),m([wt("number",ue)],e.prototype,"rootType",void 0),e}(yt);Ot("map",{constructor:ut}),Ot("array",{constructor:X}),Ot("set",{constructor:Tn}),Ot("collection",{constructor:bn}),o.ArraySchema=X,o.CollectionSchema=bn,o.Context=vt,o.MapSchema=ut,o.Reflection=Ri,o.ReflectionField=Bt,o.ReflectionType=Be,o.Schema=yt,o.SchemaDefinition=cn,o.SetSchema=Tn,o.decode=Bn,o.defineTypes=Ai,o.deprecated=Ei,o.dumpChanges=Ni,o.encode=vn,o.filter=ln,o.filterChildren=vi,o.hasFilter=Nt,o.registerType=Ot,o.type=wt,Object.defineProperty(o,"__esModule",{value:!0})})})(gr,gr.exports);var co=gr.exports,If=pt&&pt.__createBinding||(Object.create?function(f,l,o,h){h===void 0&&(h=o);var p=Object.getOwnPropertyDescriptor(l,o);(!p||("get"in p?!l.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return l[o]}}),Object.defineProperty(f,h,p)}:function(f,l,o,h){h===void 0&&(h=o),f[h]=l[o]}),Nf=pt&&pt.__setModuleDefault||(Object.create?function(f,l){Object.defineProperty(f,"default",{enumerable:!0,value:l})}:function(f,l){f.default=l}),Rf=pt&&pt.__importStar||function(f){if(f&&f.__esModule)return f;var l={};if(f!=null)for(var o in f)o!=="default"&&Object.prototype.hasOwnProperty.call(f,o)&&If(l,f,o);return Nf(l,f),l};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.Room=void 0;const Xs=Rf(sn),Lf=hi,St=Ar,Qs=Me,Pf=pi,ui=on,Vt=co,Zs=Er;class yr{constructor(l,o){this.onStateChange=(0,ui.createSignal)(),this.onError=(0,ui.createSignal)(),this.onLeave=(0,ui.createSignal)(),this.onJoin=(0,ui.createSignal)(),this.hasJoined=!1,this.onMessageHandlers=(0,Pf.createNanoEvents)(),this.roomId=null,this.name=l,o&&(this.serializer=new((0,Qs.getSerializer)("schema")),this.rootSchema=o,this.serializer.state=new o),this.onError((h,p)=>{var m;return(m=console.warn)===null||m===void 0?void 0:m.call(console,`colyseus.js - onError => (${h}) ${p}`)}),this.onLeave(()=>this.removeAllListeners())}get id(){return this.roomId}connect(l,o,h=this){const p=new Lf.Connection;h.connection=p,p.events.onmessage=yr.prototype.onMessageCallback.bind(h),p.events.onclose=function(m){var A;if(!h.hasJoined){(A=console.warn)===null||A===void 0||A.call(console,`Room connection was closed unexpectedly (${m.code}): ${m.reason}`),h.onError.invoke(m.code,m.reason);return}m.code===Zs.CloseCode.DEVMODE_RESTART&&o?o():(h.onLeave.invoke(m.code),h.destroy())},p.events.onerror=function(m){var A;(A=console.warn)===null||A===void 0||A.call(console,`Room, onError (${m.code}): ${m.reason}`),h.onError.invoke(m.code,m.reason)},p.connect(l)}leave(l=!0){return new Promise(o=>{this.onLeave(h=>o(h)),this.connection?l?this.connection.send([St.Protocol.LEAVE_ROOM]):this.connection.close():this.onLeave.invoke(Zs.CloseCode.CONSENTED)})}onMessage(l,o){return this.onMessageHandlers.on(this.getMessageHandlerKey(l),o)}send(l,o){const h=[St.Protocol.ROOM_DATA];typeof l=="string"?Vt.encode.string(h,l):Vt.encode.number(h,l);let p;if(o!==void 0){const m=Xs.encode(o);p=new Uint8Array(h.length+m.byteLength),p.set(new Uint8Array(h),0),p.set(new Uint8Array(m),h.length)}else p=new Uint8Array(h);this.connection.send(p.buffer)}sendBytes(l,o){const h=[St.Protocol.ROOM_DATA_BYTES];typeof l=="string"?Vt.encode.string(h,l):Vt.encode.number(h,l);let p;p=new Uint8Array(h.length+(o.byteLength||o.length)),p.set(new Uint8Array(h),0),p.set(new Uint8Array(o),h.length),this.connection.send(p.buffer)}get state(){return this.serializer.getState()}removeAllListeners(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}}onMessageCallback(l){const o=Array.from(new Uint8Array(l.data)),h=o[0];if(h===St.Protocol.JOIN_ROOM){let p=1;const m=(0,St.utf8Read)(o,p);if(p+=(0,St.utf8Length)(m),this.serializerId=(0,St.utf8Read)(o,p),p+=(0,St.utf8Length)(this.serializerId),!this.serializer){const A=(0,Qs.getSerializer)(this.serializerId);this.serializer=new A}o.length>p&&this.serializer.handshake&&this.serializer.handshake(o,{offset:p}),this.reconnectionToken=`${this.roomId}:${m}`,this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([St.Protocol.JOIN_ROOM])}else if(h===St.Protocol.ERROR){const p={offset:1},m=Vt.decode.number(o,p),A=Vt.decode.string(o,p);this.onError.invoke(m,A)}else if(h===St.Protocol.LEAVE_ROOM)this.leave();else if(h===St.Protocol.ROOM_DATA_SCHEMA){const p={offset:1},A=this.serializer.getState().constructor._context.get(Vt.decode.number(o,p)),O=new A;O.decode(o,p),this.dispatchMessage(A,O)}else if(h===St.Protocol.ROOM_STATE)o.shift(),this.setState(o);else if(h===St.Protocol.ROOM_STATE_PATCH)o.shift(),this.patch(o);else if(h===St.Protocol.ROOM_DATA){const p={offset:1},m=Vt.decode.stringCheck(o,p)?Vt.decode.string(o,p):Vt.decode.number(o,p),A=o.length>p.offset?Xs.decode(l.data,p.offset):void 0;this.dispatchMessage(m,A)}else if(h===St.Protocol.ROOM_DATA_BYTES){const p={offset:1},m=Vt.decode.stringCheck(o,p)?Vt.decode.string(o,p):Vt.decode.number(o,p);this.dispatchMessage(m,new Uint8Array(o.slice(p.offset)))}}setState(l){this.serializer.setState(l),this.onStateChange.invoke(this.serializer.getState())}patch(l){this.serializer.patch(l),this.onStateChange.invoke(this.serializer.getState())}dispatchMessage(l,o){var h;const p=this.getMessageHandlerKey(l);this.onMessageHandlers.events[p]?this.onMessageHandlers.emit(p,o):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",l,o):(h=console.warn)===null||h===void 0||h.call(console,`colyseus.js: onMessage() not registered for type '${l}'.`)}destroy(){this.serializer&&this.serializer.teardown()}getMessageHandlerKey(l){switch(typeof l){case"function":return`$${l._typeid}`;case"string":return l;case"number":return`i${l}`;default:throw new Error("invalid message type.")}}}Mn.Room=yr;var ne=pt&&pt.__awaiter||function(f,l,o,h){function p(m){return m instanceof o?m:new o(function(A){A(m)})}return new(o||(o=Promise))(function(m,A){function O($){try{S(h.next($))}catch(x){A(x)}}function T($){try{S(h.throw($))}catch(x){A(x)}}function S($){$.done?m($.value):p($.value).then(O,T)}S((h=h.apply(f,l||[])).next())})},dr;Object.defineProperty(rn,"__esModule",{value:!0});rn.Client=rn.MatchMakeError=void 0;const to=so,Mf=Er,kf=Mn;class _i extends Error{constructor(l,o){super(l),this.code=o,Object.setPrototypeOf(this,_i.prototype)}}rn.MatchMakeError=_i;const jf=typeof window<"u"&&typeof((dr=window==null?void 0:window.location)===null||dr===void 0?void 0:dr.hostname)<"u"?`${window.location.protocol.replace("http","ws")}//${window.location.hostname}${window.location.port&&`:${window.location.port}`}`:"ws://127.0.0.1:2567";class Hf{constructor(l=jf){if(typeof l=="string"){const o=new URL(l),h=o.protocol==="https:"||o.protocol==="wss:",p=Number(o.port||(h?443:80));this.settings={hostname:o.hostname,pathname:o.pathname!=="/"?o.pathname:"",port:p,secure:h}}else l.port===void 0&&(l.port=l.secure?443:80),l.pathname===void 0&&(l.pathname=""),this.settings=l}joinOrCreate(l,o={},h){return ne(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinOrCreate",l,o,h)})}create(l,o={},h){return ne(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("create",l,o,h)})}join(l,o={},h){return ne(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("join",l,o,h)})}joinById(l,o={},h){return ne(this,void 0,void 0,function*(){return yield this.createMatchMakeRequest("joinById",l,o,h)})}reconnect(l,o){return ne(this,void 0,void 0,function*(){if(typeof l=="string"&&typeof o=="string")throw new Error("DEPRECATED: .reconnect() now only accepts 'reconnectionToken' as argument.\nYou can get this token from previously connected `room.reconnectionToken`");const[h,p]=l.split(":");return yield this.createMatchMakeRequest("reconnect",h,{reconnectionToken:p},o)})}getAvailableRooms(l=""){return ne(this,void 0,void 0,function*(){return(yield(0,to.get)(this.getHttpEndpoint(`${l}`),{headers:{Accept:"application/json"}})).data})}consumeSeatReservation(l,o,h){return ne(this,void 0,void 0,function*(){const p=this.createRoom(l.room.name,o);p.roomId=l.room.roomId,p.sessionId=l.sessionId;const m={sessionId:p.sessionId};l.reconnectionToken&&(m.reconnectionToken=l.reconnectionToken);const A=h||p;return p.connect(this.buildEndpoint(l.room,m),l.devMode&&(()=>ne(this,void 0,void 0,function*(){console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} Re-establishing connection with room id '${p.roomId}'...`);let O=0,T=8;const S=()=>ne(this,void 0,void 0,function*(){O++;try{yield this.consumeSeatReservation(l,o,A),console.info(`[Colyseus devMode]: ${String.fromCodePoint(9989)} Successfully re-established connection with room '${p.roomId}'`)}catch{O<T?(console.info(`[Colyseus devMode]: ${String.fromCodePoint(128260)} retrying... (${O} out of ${T})`),setTimeout(S,2e3)):console.info(`[Colyseus devMode]: ${String.fromCodePoint(10060)} Failed to reconnect. Is your server running? Please check server logs.`)}});setTimeout(S,2e3)})),A),new Promise((O,T)=>{const S=($,x)=>T(new Mf.ServerError($,x));A.onError.once(S),A.onJoin.once(()=>{A.onError.remove(S),O(A)})})})}createMatchMakeRequest(l,o,h={},p,m){return ne(this,void 0,void 0,function*(){const A=(yield(0,to.post)(this.getHttpEndpoint(`${l}/${o}`),{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(h)})).data;if(A.error)throw new _i(A.error,A.code);return l==="reconnect"&&(A.reconnectionToken=h.reconnectionToken),yield this.consumeSeatReservation(A,p,m)})}createRoom(l,o){return new kf.Room(l,o)}buildEndpoint(l,o={}){const h=[];for(const m in o)o.hasOwnProperty(m)&&h.push(`${m}=${o[m]}`);let p=this.settings.secure?"wss://":"ws://";return l.publicAddress?p+=`${l.publicAddress}`:p+=`${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}`,`${p}/${l.processId}/${l.roomId}?${h.join("&")}`}getHttpEndpoint(l=""){return`${this.settings.secure?"https":"http"}://${this.settings.hostname}${this.getEndpointPort()}${this.settings.pathname}/matchmake/${l}`}getEndpointPort(){return this.settings.port!==80&&this.settings.port!==443?`:${this.settings.port}`:""}}rn.Client=Hf;var lo={},ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.getItem=ge.removeItem=ge.setItem=void 0;let pr;function br(){return pr||(pr=typeof cc<"u"&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:typeof window<"u"&&window.localStorage?window.localStorage:{cache:{},setItem:function(f,l){this.cache[f]=l},getItem:function(f){this.cache[f]},removeItem:function(f){delete this.cache[f]}}),pr}function Vf(f,l){br().setItem(f,l)}ge.setItem=Vf;function Ff(f){br().removeItem(f)}ge.removeItem=Ff;function Bf(f,l){const o=br().getItem(f);typeof Promise>"u"||!(o instanceof Promise)?l(o):o.then(h=>l(h))}ge.getItem=Bf;(function(f){var l=pt&&pt.__createBinding||(Object.create?function(S,$,x,k){k===void 0&&(k=x);var Q=Object.getOwnPropertyDescriptor($,x);(!Q||("get"in Q?!$.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return $[x]}}),Object.defineProperty(S,k,Q)}:function(S,$,x,k){k===void 0&&(k=x),S[k]=$[x]}),o=pt&&pt.__setModuleDefault||(Object.create?function(S,$){Object.defineProperty(S,"default",{enumerable:!0,value:$})}:function(S,$){S.default=$}),h=pt&&pt.__importStar||function(S){if(S&&S.__esModule)return S;var $={};if(S!=null)for(var x in S)x!=="default"&&Object.prototype.hasOwnProperty.call(S,x)&&l($,S,x);return o($,S),$},p=pt&&pt.__awaiter||function(S,$,x,k){function Q(nt){return nt instanceof x?nt:new x(function(X){X(nt)})}return new(x||(x=Promise))(function(nt,X){function ce(Ot){try{Ct(k.next(Ot))}catch(Ft){X(Ft)}}function ut(Ot){try{Ct(k.throw(Ot))}catch(Ft){X(Ft)}}function Ct(Ot){Ot.done?nt(Ot.value):Q(Ot.value).then(ce,ut)}Ct((k=k.apply(S,$||[])).next())})};Object.defineProperty(f,"__esModule",{value:!0}),f.Auth=f.Platform=void 0;const m=h(so),A=ge,O="colyseus-auth-token";(function(S){S.ios="ios",S.android="android"})(f.Platform||(f.Platform={}));class T{constructor($){this._id=void 0,this.username=void 0,this.displayName=void 0,this.avatarUrl=void 0,this.isAnonymous=void 0,this.email=void 0,this.lang=void 0,this.location=void 0,this.timezone=void 0,this.metadata=void 0,this.devices=void 0,this.facebookId=void 0,this.twitterId=void 0,this.googleId=void 0,this.gameCenterId=void 0,this.steamId=void 0,this.friendIds=void 0,this.blockedUserIds=void 0,this.createdAt=void 0,this.updatedAt=void 0,this.token=void 0,this.endpoint=$.replace("ws","http"),(0,A.getItem)(O,x=>this.token=x)}get hasToken(){return!!this.token}login($={}){return p(this,void 0,void 0,function*(){const x=Object.assign({},$);this.hasToken&&(x.token=this.token);const k=yield this.request("post","/auth",x);this.token=k.token,(0,A.setItem)(O,this.token);for(let Q in k)this.hasOwnProperty(Q)&&(this[Q]=k[Q]);return this.registerPingService(),this})}save(){return p(this,void 0,void 0,function*(){return yield this.request("put","/auth",{},{username:this.username,displayName:this.displayName,avatarUrl:this.avatarUrl,lang:this.lang,location:this.location,timezone:this.timezone}),this})}getFriends(){return p(this,void 0,void 0,function*(){return yield this.request("get","/friends/all")})}getOnlineFriends(){return p(this,void 0,void 0,function*(){return yield this.request("get","/friends/online")})}getFriendRequests(){return p(this,void 0,void 0,function*(){return yield this.request("get","/friends/requests")})}sendFriendRequest($){return p(this,void 0,void 0,function*(){return yield this.request("post","/friends/requests",{userId:$})})}acceptFriendRequest($){return p(this,void 0,void 0,function*(){return yield this.request("put","/friends/requests",{userId:$})})}declineFriendRequest($){return p(this,void 0,void 0,function*(){return yield this.request("del","/friends/requests",{userId:$})})}blockUser($){return p(this,void 0,void 0,function*(){return yield this.request("post","/friends/block",{userId:$})})}unblockUser($){return p(this,void 0,void 0,function*(){return yield this.request("put","/friends/block",{userId:$})})}request($,x,k={},Q,nt={}){return p(this,void 0,void 0,function*(){nt.Accept="application/json",this.hasToken&&(nt.Authorization="Bearer "+this.token);const X=[];for(const Ct in k)X.push(`${Ct}=${k[Ct]}`);const ce=X.length>0?`?${X.join("&")}`:"",ut={headers:nt};return Q&&(ut.body=Q),(yield m[$](`${this.endpoint}${x}${ce}`,ut)).data})}logout(){this.token=void 0,(0,A.removeItem)(O),this.unregisterPingService()}registerPingService($=15e3){this.unregisterPingService(),this.keepOnlineInterval=setInterval(()=>this.request("get","/auth"),$)}unregisterPingService(){clearInterval(this.keepOnlineInterval)}}f.Auth=T})(lo);var gi={};Object.defineProperty(gi,"__esModule",{value:!0});gi.SchemaSerializer=void 0;const eo=co;class Uf{setState(l){return this.state.decode(l)}getState(){return this.state}patch(l){return this.state.decode(l)}teardown(){var l,o;(o=(l=this.state)===null||l===void 0?void 0:l.$changes)===null||o===void 0||o.root.clearRefs()}handshake(l,o){this.state?new eo.Reflection().decode(l,o):this.state=eo.Reflection.decode(l,o)}}gi.SchemaSerializer=Uf;var mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.NoneSerializer=void 0;class Wf{setState(l){}getState(){return null}patch(l){}teardown(){}handshake(l){}}mi.NoneSerializer=Wf;(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.SchemaSerializer=f.registerSerializer=f.Platform=f.Auth=f.Room=f.ErrorCode=f.Protocol=f.Client=void 0;var l=rn;Object.defineProperty(f,"Client",{enumerable:!0,get:function(){return l.Client}});var o=Ar;Object.defineProperty(f,"Protocol",{enumerable:!0,get:function(){return o.Protocol}}),Object.defineProperty(f,"ErrorCode",{enumerable:!0,get:function(){return o.ErrorCode}});var h=Mn;Object.defineProperty(f,"Room",{enumerable:!0,get:function(){return h.Room}});var p=lo;Object.defineProperty(f,"Auth",{enumerable:!0,get:function(){return p.Auth}}),Object.defineProperty(f,"Platform",{enumerable:!0,get:function(){return p.Platform}});const m=gi;Object.defineProperty(f,"SchemaSerializer",{enumerable:!0,get:function(){return m.SchemaSerializer}});const A=mi,O=Me;Object.defineProperty(f,"registerSerializer",{enumerable:!0,get:function(){return O.registerSerializer}}),(0,O.registerSerializer)("schema",m.SchemaSerializer),(0,O.registerSerializer)("none",A.NoneSerializer)})(ro);const nn=class nn{};li(nn,"colyseusNexusClient",new ro.Client("https://game.thenexusbattles2.cloud/server-0")),li(nn,"room_data",new Map),li(nn,"nexusClientGetAvaliableRooms",async()=>{let l=[];try{return(await nn.colyseusNexusClient.getAvailableRooms("room_battle")).forEach(h=>{l.push({roomId:h.roomId,roomMedatadataNombre:h.metadata.nombre,roomMetadataClients:h.clients.toString(),roomMetadataMaxClients:h.maxClients.toString(),roomMetadataGanancia:h.metadata.ganacia})}),l}catch(o){return console.log("Error fetching rooms.",o),l}});let mr=nn;et("#btn-create-room").on("click",function(){no()&&et("#roomConfig").show()});const fo=async()=>{et("#party-list").empty();let f=await mr.nexusClientGetAvaliableRooms();f.length>0&&et.get("../templates/partyListItem.html",function(l){f.forEach(o=>{let h=l,p={"{{id_placeholder}}":o.roomId,"{{name_placeholder}}":o.roomMedatadataNombre,"{{current_placeholder}}":o.roomMetadataClients,"{{max_placeholder}}":o.roomMetadataMaxClients,"{{mode_placeholder}}":"TBD","{{bonus_placeholder}}":o.roomMetadataGanancia};for(let m in p)p.hasOwnProperty(m)&&(h=h.replace(m,p[m]));et("#party-list").append(h)})})};et("#refresh-button").on("click",fo);et(fo);
